+V74247
+S35
+N840
+A634
1:CMD_+FLUSH
+A643
1:CMD_LIST_GLOBAL_ALIASES
+A464
1:TR_CONFIG_TIMEOUT
+A531
1:PENN_MAIL_SILENT
+A616
1:CMD_+MAIL
+A662
1:CREDITS-+WHERE
+A317
1:FORMAT_CHAN
+A809
1:FUNC_WHICHPLACE
+A468
1:TR_POST_NOTIFY
+A408
1:PENNOPTIONS_SYNTAX
+A543
1:CMD_+SET_MAIL_OPTION_INBOX
+A279
1:DB
+A434
1:CH_LIST
+A403
1:VERSION
+A482
1:CMD_+BBSCAN
+A490
1:CMD_+BBPROOF
+A479
1:CMD_+BBEDIT
+A571
1:CMD_+READ_EXTENDED
+A626
1:CMD_+MAIL_+ADDNOTE
+A504
1:FN_IFELSE
+A427
1:DO_GENPEMIT
+A749
1:CMD-STAFF-ADD
+A827
1:CMD.CRONTAB
+A802
1:GETINFO
+A379
1:F_CHK_CEMIT
+A699
1:SECS2HRS
+A425
1:DO_CEMITLOCK
+A285
1:CMD_COMLIST
+A546
1:PENN_MAIL_READ
+A312
1:ADDCOMMSG00
+A478
1:CMD_+BBREAD2
+A314
1:ADDCOMMSG01
+A746
1:CMD-MOTD_LIST
+A433
1:FX-DB
+A627
1:CMD_+DELETE
+A284
1:CMD_CLIST
+A536
1:PENN_MAIL_NOSIG
+A373
1:DOLAST_RANGE
+A519
1:PENN_MAIL
+A727
1:CMD-PLUS-3WHO
+A761
1:CMD-COMMANDS
+A657
1:CANFIND
+A624
1:CMD_+MAIL_+TOSS
+A633
1:CMD_+UNDELETE
+A346
1:CHK_PLAYERS
+A258
1:FUN_COLUMN
+A461
1:TR_TIMEOUT_GROUP
+A742
1:CMD-VIEW-ITEM
+A351
1:COMCFGSWITCHES
+A299
1:CMD_CHAN_WHO
+A668
1:CREDITS-+MOTD
+A839
1:CMD_+SHELP
+A422
1:DO_HIST1
+A622
1:CMD_+MAIL_+SUBJECT
+A738
1:CMD-STAFF-ALL
+A795
1:PLOOK_FOLD_FN
+A522
1:PENN_MAIL_SEND
+A754
1:CMD-TIMESTAMP-SHOWALL
+A653
1:SGP-VERSION
+A565
1:CMD_+UNREAD
+A492
1:CMD_+BBREAD
+A447
1:FN_MAPLIST_2
+A647
1:CMD_SELECT_FOLDER_EXT
+A420
1:DO_CHANDELETE
+A637
1:CMD_EXPAND_PERSONAL_ALIAS
+A274
1:FUN_WRITETIME
+A502
1:CMD_+BBSEARCH_NOGREP
+A615
1:CMD_+RETRACT_LETTER
+A694
1:LASTCONN
+A549
1:CMD_@MAIL_STATS
+A443
1:ISGROUPREAD
+A291
1:CMD_CEMIT
+A589
1:CMD_+REPLYNM
+A601
1:CMD_+FORWARD_NUMTO
+A632
1:CMD_+CLEAR
+A261
1:FUN_LPOS
+A467
1:FN_MSG_FLAGS
+A281
1:CMD_GENERIC_HACK
+A513
1:MAIN_HELP_ARG
+A696
1:LOCSORT
+A698
1:SORTLOC
+A756
1:CMD-VERSION-HISTORY
+A283
1:CMD_DELCOM
+A591
1:CMD_@MAIL_REVIEW
+A465
1:TR_GCONFIG_TIMEOUT
+A437
1:CHDESC_PUBLIC
+A520
1:CMD_@MAIL_REPLYALLQUOTE
+A620
1:CMD_+MAIL_BCC
+A690
1:HEADER
+A500
1:CMD_+BBTIMEOUT
+A628
1:CMD_+MARK
+A697
1:NAMESORT
+A723
1:CMD-MULTIPAGE
+A830
1:FORMAT
+A833
1:FN.BAD
+A260
1:FUN_LSEARCH
+A544
1:CMD_@MAIL_FORWARD
+A266
1:FUN_BNAND
+A322
1:DO_CHANCOLOR
+A409
1:PENNOPTIONS_REFERENCE
+A838
1:WIZHELP_@CRONTAB
+A460
1:TR_TIMEOUT
+A440
1:GET_GROUP
+A608
1:CMD_+REVIEW_GENERIC
+A835
1:TRG.CRON
+A820
1:DOTS_FN
+A445
1:FN_MAKELIST
+A720
1:CMD-INFO
+A404
1:COMHELP_SYNTAX
+A554
1:PENN_MAIL_LIST
+A609
1:CMD_@MAIL_ALL
+A678
1:FOOTER-EQ-O
+A751
1:CMD-TIMESTAMP-SET
+A805
1:EVAL_MSG
+A823
1:CANSPY
+A469
1:FN_TIMEOUT_CLOSE
+A333
1:CLIST0
+A343
1:GENERICDO
+A313
1:ADDCOMMSG10
+A334
1:CLIST1
+A631
1:CMD_+UNSAVE
+A750
1:CMD-STAFF-REMOVE
+A332
1:CLIST2
+A325
1:ADDCOMMSG11
+A764
1:CMD-JOIN
+A834
1:LIST.BAD
+A452
1:B36_POWS
+A769
1:CMD-PROJECTS-VIEW
+A564
1:CMD_@MAIL_MALIAS_ADD
+A602
1:PENN_MAIL_OTHER
+A605
1:CMD_@MAIL_UNTAG
+A613
1:CMD_+REVIEW_LETTERS_UNRPLR
+A661
1:CREDITS-LWHO
+A407
1:COMOPTIONS_REFERENCE
+A495
1:CMD_+BBEDIT2
+A336
1:DO_SORT
+A307
1:CHANOFFMSG00
+A521
1:CMD_@MAIL_DEBUG
+A717
1:CMD-FINGER
+A309
1:CHANOFFMSG01
+A760
1:CAN_USE
+A483
1:CMD_+BBLIST
+A551
1:PENN_MAIL_LISTS
+A267
1:FUN_OBJMEM
+A382
1:COMCFGDO10
+A435
1:CHDESC_NEWBIE
+A385
1:COMCFGDO11
+A595
1:CMD_+MAIL_STATUS
+A815
1:SPY_ADD
+A807
1:FUNC_ATPLACE
+A386
1:COMCFGDO12
+A390
1:COMCFGDO14
+A287
1:CMD_GENERIC_NOPARSE
+A476
1:CMD_+BBPOST
+A295
1:CMD_CHAN_LIST
+A533
1:CMD_+SET_MAIL_OPTION_MODE
+A552
1:CMD_@MAIL_NUKE
+A485
1:CMD_+BBCATCHUP
+A402
1:DOCBOOT
+A292
1:CMD_CBOOT
+A577
1:CMD_+REPLY
+A412
1:DO_ALIAS_0
+A695
1:LIST-SAMPLE
+A413
1:DO_ALIAS_1
+A550
1:CMD_+SHOW_MAIL_OPTIONS
+A511
1:MAIN_HELP
+A484
1:CREDITS
+A560
1:PENN_MAIL_FOLDER_NAME
+A813
1:DO_SPY
+A676
1:FOOTER
+A259
1:FUN_TABLE
+A477
1:CMD_+BBREMOVE
+A726
1:CMD-OOC_EMIT
+A276
1:FUN_GET_RAW
+A441
1:NXT_MESS
+A563
1:PENN_MAIL_FOLDER_UNNAME
+A576
1:CMD_@MAIL_FOLDER_NAME
+A621
1:CMD_+MAIL_+EDIT
+A767
1:CMD-PROJECT-SET
+A374
1:DO_HISTLINE
+A547
1:CMD_@MAIL_QUICK
+A439
1:BBTIME
+A580
1:CMD_+REPLYALL_EXT
+A638
1:CMD_LIST_PERSONAL_ALIASES
+A286
1:CMD_COMTITLE
+A553
1:CMD_+NOTE
+A586
1:CMD_+REPLY_EXTNM
+A598
1:CMD_+FORWARD_TO
+A356
1:COMCFGSYNTAX
+A579
1:CMD_@MAIL_FOLDER_CHANGE
+A497
1:CMD_+BBCONFIG
+A335
1:FOREACH
+A540
1:CMD_+SET_MAIL_OPTION_SEPERATOR
+A472
1:CMD_+BBNEWGROUP
+A606
1:CMD_+BOUNCE
+A641
1:CMD_REMOVE_GLOBAL_ALIAS
+A706
1:FIL_IS$
+A804
1:ATPLACE
+A812
1:DO_MUTTER_TT
+A491
1:CMD_+BBPOST-POST
+A306
1:CHANOFFF
+A537
1:CMD_@MAIL_EDIT
+A508
1:BB_OMIT
+A702
1:TWODIGCONN
+A264
1:FUN_BAND
+A308
1:CHANOFFMSG10
+A398
1:CBOOTMSG00
+A310
1:CHANOFFMSG11
+A302
1:CHANONMSG00
+A507
1:BB_READ
+A399
1:CBOOTMSG01
+A392
1:DOLISTPLRS_0
+A304
1:CHANONMSG01
+A614
1:CMD_+REVIEW_LETTER
+A419
1:DO_CHANCREATE
+A391
1:DOLISTPLRS_1
+A316
1:GENERICDO0
+A821
1:SELECT_WORDS_FN
+A318
1:GENERICDO1
+A587
1:PENN_MAIL_STATS
+A456
1:FN_INC_NEXT_MESS
+A320
1:GENERICDO2
+A786
1:DO_SIT
+A514
1:CHKUSE
+A321
1:GENERICDO3
+A326
1:GENERICDO4
+A779
1:SETUP_FN
+A796
1:NAME_3COL_FN
+A327
1:GENERICDO5
+A590
1:PENN_MAIL_DSTATS
+A345
1:GENERICDO6
+A619
1:CMD_+MAIL_CC
+A732
1:CMD-REGISTER
+A277
1:FUN_V_RAW
+A371
1:GENERICDO7
+A660
1:CREDITS-CNOTES
+A458
1:VALID_GLOBAL_CONFIGS
+A428
1:DO_CBOOT
+A297
1:CMD_CHAN_ON
+A557
1:PENN_MAIL_FOLDER_LIST
+A651
1:CMD_+ZAP
+A814
1:SPY_WHO
+A329
1:DELCOMMSG0
+A330
1:DELCOMMSG1
+A629
1:CMD_+UNMARK
+A446
1:FN_MAPLIST
+A636
1:CMD_REMOVE_PERSONAL_ALIAS
+A649
1:CMD_MOVE_MSG_TO_FOLDER
+A480
1:CMD_+BBLEAVE
+A803
1:UPDATEINFO
+A510
1:USEMAIL
+A555
1:CMD_@MAIL_READ
+A584
1:PENN_MAIL_UNTAG
+A623
1:CMD_+MAIL_+PROOF
+A782
1:PLACESCLEANUP1
+A783
1:PLACESCLEANUP2
+A817
1:MUTTER_FN
+A607
1:CMD_@MAIL_SAFE
+A708
1:FN_COLUMNS
+A784
1:PLACESCLEANUPCMD
+A831
1:FN.STRIP
+A625
1:CMD_+MAIL_+SEND
+A655
1:BAR
+A780
1:DO_UPDATE
+A405
1:COMHELP_REFERENCE
+A381
1:COMCFGMSG_10
+A383
1:COMCFGMSG_11
+A375
1:DO_HISTLINECNT
+A811
1:DO_MUTTER_PLACE
+A457
1:VALID_CONFIGS
+A387
1:COMCFGMSG_12
+A486
1:CMD_+BBMOVE
+A388
1:COMCFGMSG_13
+A599
1:PENN_MAIL_DEBUG
+A488
1:CMD_+BBPOST2
+A389
1:COMCFGMSG_14
+A574
1:CMD_+REPLY_EXT
+A799
1:DO_TT
+A724
1:CMD-MULTIPAGE2
+A808
1:FUNC_PLACEINFO
+A575
1:PENN_MAIL_UNCLEAR
+A397
1:CBOOTF
+A301
1:CHANONF
+A806
1:OEVAL_MSG
+A826
1:CMD.CRONHELP
+A430
1:CH-DB
+A735
1:CMD-SELFBOOT
+A400
1:CBOOTMSG10
+A303
1:CHANONMSG10
+A527
1:CMD_@MAIL_SEND
+A798
1:DO_PLOOK_NUMBER
+A713
1:FN_MMM-DD-YYYY
+A401
1:CBOOTMSG11
+A305
1:CHANONMSG11
+A730
1:CMD-PLUS-WHO
+A744
1:CMD-MOTD_SET
+A658
1:COLDISP_FN
+A673
1:FIL-LWHO
+A707
1:FN_ANDLIST
+A417
1:DO_CHCNT
+A395
1:DOPLRLISTCLR_E
+A776
1:EVAL_OBJ
+A654
1:UPDATE-HISTORY
+A712
1:FN_ISSTAFF
+A470
1:FN_HASCONFIG
+A354
1:COMCFGMSG_0
+A528
1:CMD_+MAILSTATUS
+A674
1:FINGER_LIST_LONG
+A832
1:HUH
+A837
1:FLT.CRON
+A355
1:COMCFGMSG_1
+A352
1:COMCFGMSG0
+A612
1:CMD_+REVIEW_LETTERS_UNR
+A353
1:COMCFGMSG1
+A359
1:COMCFGMSG_2
+A360
1:COMCFGMSG_3
+A339
1:COMTITLEMSG00
+A362
1:COMCFGMSG_4
+A341
1:COMTITLEMSG01
+A438
1:DO_CHANCOLOR_PUBLIC
+A825
1:CMD.CRONDEL
+A498
1:CMD_+BBCONFIG2
+A364
1:COMCFGMSG_5
+A499
1:CMD_+BBCONFIG3
+A365
1:COMCFGMSG_6
+A462
1:DO_TIMEOUTS
+A367
1:COMCFGMSG_7
+A642
1:CMD_EXPAND_GLOBAL_ALIAS
+A685
1:FOOTER-XCOMPLEX
+A728
1:CMD-PLUS-LWHO
+A789
1:DO_STAND
+A396
1:DOPLRLISTCLR_P
+A369
1:COMCFGMSG_8
+A539
1:CMD_@MAIL_ABORT
+A570
1:CMD_@MAIL_MALIAS_OTHER
+A693
1:IDLETIME
+A377
1:COMCFGMSG_9
+A344
1:GENERIC_STRIP
+A581
1:PENN_MAIL_TAG
+A449
1:FN_LNUM
+A393
1:DOPLRLISTCLR_R
+A518
1:CMD_@MAIL_REPLYQUOTE
+A294
1:CMD_PENNOPTIONS
+A282
1:CMD_GENERIC
+A585
1:CMD_@MAIL_VIEW
+A753
1:CMD-TIMESTAMP-REMOVE
+A394
1:DOPLRLISTCLR_T
+A558
1:CMD_@MAIL_LIST
+A573
1:CMD_@MAIL_FOLDER
+A603
1:CMD_@MAIL_TAG
+A509
1:BB_SILENT
+A610
1:CMD_+REVIEW_LETTERS
+A788
1:DO_DEPART
+A566
1:PENN_MAIL_FOLDER_CHANGE
+A348
1:DO_AFTER0
+A357
1:COMCFGF
+A350
1:DO_AFTER1
+A617
1:CMD_+SET_MAIL_QUOTA
+A781
1:DO_MV
+A703
1:FN_OSTAFF
+A268
1:FUN_STRINSERT
+A524
1:CMD_@MAIL
+A323
1:CH_TEMPLATE1
+A525
1:CMD_+DUMPMAIL
+A791
1:DO_PLACE
+A324
1:CH_TEMPLATE2
+A600
1:CMD_@MAIL_PURGE
+A739
1:CMD-TIMESTAMP-READ-PLAYER
+A618
1:CMD_+DESTROY_MAILBOX_FOR
+A328
1:DELCOMF
+A663
1:CREDITS-+UPTIME
+A289
1:CMD_COMHELP
+A828
1:CREDIT
+A410
1:DOLAST_BACKUP
+A594
1:CMD_@MAIL_CLEAR
+A677
1:FOOTER-DASH
+A429
1:DO_CHANBORDERS
+A650
1:CMD_MOVE_MSG_BY_SUBJ
+A824
1:CMD.CRONADD
+A559
1:CMD_+CHECK_MAIL
+A752
1:CMD-TIMESTAMP-READ-STAFF
+A548
1:CMD_+SET_MAIL_OPTION_REJECT
+A506
1:FN_GREP
+A785
1:DO_JOIN
+A583
1:CMD_+REPLYALL
+A659
1:COLDISP_FLD
+A686
1:FOOTER-OCOMPLEX
+A773
1:CMD-RJOIN
+A436
1:DO_CHANCOLOR_NEWBIE
+A532
1:CMD_@MAIL_CC_ALIAS
+A569
1:PENN_MAIL_FOLDER_MOVE
+A453
1:FN_B36_MAGS
+A475
1:DO_CLEARGROUP
+A711
1:FN_FINDPC
+A338
1:COMTITLEF
+A541
1:PENN_MAIL_FORWARD
+A582
1:CMD_@MAIL_FOLDER_MOVE
+A593
1:PENN_MAIL_FSTATS
+A771
1:CMD-REGISTER-STAFF
+A380
1:F_DO_CEMIT
+A340
1:COMTITLEMSG10
+A745
1:CMD-MOTD_DEL
+A691
1:HEADER-STAFF
+A342
1:COMTITLEMSG11
+A473
1:CMD_+BBLOCK
+A561
1:CMD_@MAIL_MALIAS
+A743
1:ISWIZARD
+A822
1:KILL_WORDS_FN
+A489
1:CMD_+BBWRITE
+A272
1:FUN_STRTRUNC
+A311
1:ADDCOMF
+A670
1:CREDITS-BACKGROUNDS
+A442
1:VALID_GROUPS
+A656
1:CANSEE
+A829
1:CRON
+A481
1:CMD_+BBJOIN
+A688
1:FN_SCANOBJ
+A358
1:COMCFGDO1
+A836
1:FN.CRON
+A275
1:FUN_PICKRAND
+A687
1:FOOTER-COMPLEX
+A701
1:STARTING_IC_LOC
+A777
1:DO_CONFIGURE
+A797
1:NAME_3AUX_FN
+A361
1:COMCFGDO3
+A639
1:CMD_ADD_GLOBAL_ALIAS
+A474
1:CMD_+BBCLEARGROUP
+A363
1:COMCFGDO4
+A530
1:CMD_+SET_MAIL_OPTION_DELETE
+A675
1:FINGER_LIST
+A794
1:DO_PLOOK
+A501
1:CMD_+BBSEARCH
+A366
1:COMCFGDO6
+A734
1:CMD_SCAN
+A368
1:COMCFGDO7
+A517
1:CMD_@MAIL_REPLYALL
+A432
1:STOR-DB
+A378
1:COMCFGDO9
+A280
1:CMD_ADDCOM
+A534
1:CMD_@MAIL_PROOF
+A800
1:DO_TTOOC
+A733
1:CMD-REGISTER-HELP
+A741
1:CMD-VIEW
+A293
1:CMD_COMOPTIONS
+A567
1:CMD_@MAIL_MALIAS_DELETE
+A592
1:CMD_+REPLYALLNM
+A725
1:CMD-ALT-OOC_EMIT
+A270
1:FUN_ITEMIZE
+A665
1:CREDITS-REGISTER
+A652
1:SGP-OBJECTS
+A516
1:CMD_@MAIL_REPLY
+A421
1:DO_CHANREDESC
+A288
1:CMD_COMCFG
+A758
1:CMD-VERSION-REMOVE
+A463
1:TR_CONFIG_ANONYMOUS
+A315
1:GENERICF
+A770
1:CMD-TRACKER-HELP
+A273
1:FUN_EXPTIME
+A298
1:CMD_CHAN_OFF
+A667
1:CREDITS-+3WHO
+A755
1:CMD-VERSION
+A588
1:CMD_@MAIL_RECALL
+A426
1:DO_PLRLOCK
+A416
1:DOCHK
+A816
1:SPY_REMOVE
+A646
1:CMD_LIST_FOLDER
+A790
1:DO_PLACES
+A265
1:FUN_BOR
+A257
1:FUN_SORTBY
+A496
1:CMD_+BBHELP
+A493
1:CMD_+BBTOSS
+A766
1:CMD-PROJECT-EDIT
+A787
1:PLACEFUNCTION
+A719
1:CMD-IC
+A729
1:CMD-PLUS-WHERE
+A269
1:FUN_TIMESTRING
+A300
1:CMD_CHAN_TITLE
+A762
1:CMD-CONTENTS
+A424
1:DO_CHANHISTSET
+A671
1:CREDITS-+BEGINNER
+A505
1:FN_SETR
+A423
1:DO_PEMIT
+A406
1:COMOPTIONS_SYNTAX
+A715
1:CMD-ACCEPT
+A568
1:CMD_+SKIM
+A774
1:CMD-RSUMMON
+A635
1:CMD_+ADD_PERSONAL_ALIAS
+A471
1:BUFFER_SIZE
+A347
1:DO_BEFORE0
+A578
1:PENN_MAIL_PURGE
+A818
1:MUTTER_TO_FN
+A349
1:DO_BEFORE1
+A337
1:ORDER_BY
+A542
1:CMD_@MAIL_FWD
+A722
1:CMD-KNOCK
+A689
1:FN_SCAN
+A370
1:COMCFGHELP
+A545
1:CMD_+SET_MAIL_OPTION_VACATION
+A765
1:CMD-PROJECT-DELETE
+A572
1:PENN_MAIL_CLEAR
+A793
1:PLACE_LOOK
+A562
1:CMD_+READ
+A666
1:CREDITS-+TIMESTAMP
+A529
1:CMD_@MAIL_CC
+A411
1:DO_ALIAS
+A645
1:CMD_REMOVE_FOLDER
+A669
1:CREDITS-OOC
+A757
1:CMD-VERSION-ADD
+A271
1:FUN_LPARENT
+A672
1:DARKEX
+A683
1:FOOTER-OZZ
+A296
1:CMD_CHAN_WHAT
+A775
1:CMD-SUMMON
+A466
1:TR_GCONFIG_AUTOTIMEOUT
+A331
1:DOWHO
+A664
1:CREDITS-+FINGER
+A494
1:CMD_+BB
+A444
1:UNREADNUMS
+A319
1:GENERIC_CMDS
+A515
1:CMD_@MAIL_PREPEND
+A556
1:CMD_+ONOTE
+A596
1:PENN_MAIL_NUKE
+A684
1:FOOTER-OZ
+A819
1:MUTTER_FROM_FN
+A372
1:DOLAST
+A526
1:PENN_MAIL_URGENT
+A763
1:CMD-DUTY
+A710
1:FN_DICE
+A692
1:HEADER-STAFFCON
+A262
1:FUN_MAIL
+A716
1:CMD-BEGINNER
+A718
1:CMD-GLANCE
+A792
1:PLACES_FN
+A714
1:FN_ROLL
+A535
1:CMD_+SET_MAIL_OPTION_FORMAT
+A448
1:FN_UNREAD_LIST
+A630
1:CMD_+SAVE
+A778
1:DO_CONFIGURE_SPYING
+A451
1:B36_DIGITS
+A648
1:CMD_SELECT_FOLDER
+A682
1:FOOTER-O-EQ
+A772
1:CMD-REGISTER-SHELP
+A538
1:CMD_+SET_MAIL_OPTION_AUTOFORWARD
+A415
1:DO_CHKALIAS
+A523
1:CMD_@MAIL_GENERIC
+A709
1:FN_DASH
+A604
1:CMD_+FORWARD
+A704
1:COLUMNS2
+A810
1:DO_MUTTER
+A705
1:COLUMNS3
+A736
1:CMD-SHOUT
+A418
1:DO_CHANLOCK
+A376
1:DO_HISTLINEEXTR
+A737
1:CMD-STAFF
+A740
1:CMD-UPTIME
+A487
1:CMD_+BBWRITELOCK
+A644
1:CMD_ADD_FOLDER
+A721
1:CMD-INFO-SEE
+A747
1:CMD-MOTD_RESET
+A759
1:CMD-VERSION-UPDATE
+A679
1:FOOTER-DASH-PERCENT-1
+A801
1:WHICHPLACE
+A431
1:F-DB
+A680
1:FOOTER-DASH-PERCENT-2
+A681
1:FOOTER-DASH-PERCENT-3
+A503
1:CMD_+BBNOTIFY
+A450
1:ADDEM
+A748
1:CMD-MOTD_CLEAR
+A278
1:FUNP_CNAME
+A459
1:CONFIG_TIMEOUT
+A414
1:DO_JOINCHAN
+A700
1:STAFF-LIST
+A455
1:FN_B10-TO-B36
+A454
1:FN_B36-TO-B10
+A731
1:CMD-PLUS-WHO-SORTED
+A290
1:CANUSE
+A263
1:FUN_POLL
+A597
1:CMD_@MAIL_UNCLEAR
+A611
1:CMD_+REVIEW_LETTERS_PLR
!0
Limbo
-1
5
-1
-1
-1

5
-1
0
4096
0
0
0
0
0
0
0
0
0
0
0
-1
<
!1
Wizard
0
-1
-1
0
-1

1
-1
1000
2097219
16392
0
0
0
0
0
0
0
0
0
0
-1
>30
Thu Jan 30 00:22:11 2003
>49
9
>38
9
>237
3 -1 30 5
>5
XXXXFe7xx3Zo2
>127
Wanderer
>187
0@localhost
>88
localhost
>84
#4;localhost;Thu Jan 30 00:22:10 2003;localhost;Wed Jan 29 23:51:58 2003;localhost;Wed Jan 29 23:48:59 2003;localhost;Wed Jan 29 22:47:10 2003;0;0;;;;;;;
>246
127.0.0.1
>221
535
>222
2
>232
23
>233
2178
<
!2
Master Room
-1
33
-1
-1
-1

5
-1
0
4160
16396
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
<
!3
Object Locker
-1
4
-1
-1
-1

5
-1
0
4160
16396
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
<
!4
SoftFunctions
3
-1
-1
0
-1

5
-1
1
306184193
131072
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>257
[sort(%1)]
>258
[ifelse(or(words(%4%5%6%7%8%9),not(words(%1))),#-1 FUNCTION \(COLUMN\) EXPECTS 2 TO 4 ARGUMENTS,columns(%0,min(sub(79,ifelse(gt(%3,78),1,%3)),%1),div(sub(79,ifelse(gt(%3,78),1,%3)),%1),l,,,ifelse(gt(words(%3),0),space(%3)),,,1,%2))]
>259
[ifelse(gt(words(%5%6%7%8%9),0),#-1 FUNCTION \(TABLE\) EXPECT FROM 1 TO 5 ARGUMENTS,columns(%0,switch([gt(words(%1),0)][gt(words(%2),0)],11,min(%1,%2),01,max(10,%2),*,10),switch([gt(words(%1),0)][gt(words(%2),0)],11,max(1,div(%2,%1)),10,max(1,div(78,%1)),01,max(1,div(%2,10)),*,7),L,0,1,,ifelse(strlen(%4),%4,%b),,1,%3))]
>260
[ifelse(words(%4),search(%0 %1=%2,%3,%4),search(%0 %1=%2))]
>261
[setdiff(totpos(%1,%0),#-1)]
>262
[ifelse(or(gt(%0,0),gt(strlen(%1),0)),[#-1 FEATURE NOT AVAILABLE],mailquick(ifelse(or(eq(strlen(%0),0),match(%0,me)),me,*%0),,ifelse(eq(strlen(%0),0),2,1)))]
>263
[doing()]
>264
[mask(%0,%1,&)]
>265
[mask(%0,%1,|)]
>266
[mask(mask(%0,power(2,31),^),&)]
>267
[size(%0,3)]
>268
[creplace(%0,add(%1,1),%2,i)]
>269
[switch(1,gt(strlen(%2%3%4%5%6%7%8%9),0),[#-1 FUNCTION \(TIMESTRING\) EXPECTS 1 OR 2 ARGUMENTS],and(isnum(%1),eq(2,%1)),timefmt($02cd $02Xh $02Fm $02Gs,%0),isnum(%1),timefmt($cd $2Xh $2Fm $2Gs,%0),eq(words(%1),0),timefmt($!cd $!2Xh $!2Fm $2Gs,%0),or(not(isnum(%0)),not(isnum(%1))),[#-1 ARGUMENTS MUST BE INTEGERS])]
>270
[elist(%0,%2,%1,%4,%3)]
>271
[localize([setr(0,num(%0))] [setdiff(parents(r(0)),#-1 #-2)])]
>272
[trim(ljc(v(0),v(1)))]
>273
[timefmt($!Zy $!emo $!Cd $!Xh $!Fm $Gs,%0)]
>274
[timefmt($!Z years $!e months $!C days $!X hours $!F minutes $!G seconds,%0)]
>275
[randextract(%0,1,%1)]
>276
[edit(get(%0),%c,\%c)]
>277
[edit(v(%0),%c,\%c)]
>278
[setq(0,switch(match(me here,%0),1,%#,2,loc(%#),%0))][switch([strmatch(name(%q0),stripansi(get(%q0/ansiname)))][hastoggle(%q0,extansi)][hasattr(%q0,ansiname)],111,[get(%q0/ansiname)][ansi(n,)],001,[ansi(get(%q0/ansiname),name(%q0))],name(%q0))]
>279
#4
>19
@dolist lattr([v(db)]/fun_*)=@function [after(##,_)]=[v(db)]/##;@dolist lattr([v(db)]/funp_*)=@function/priv/pres [after(##,_)]=[v(db)]/##;@dolist lattr([v(DB)]/funpr_*)=@function/pres [after(##,_)]=[v(DB)]/##;@dolist lattr([v(db)]/funpv_*)=@function/priv [after(##,_)]=[v(DB)]/##
<
!5
WizardHolder
0
-1
-1
0
22

5
-1
100
2097227
1090535432
0
0
0
0
0
0
0
0
0
0
-1
>30
Thu Jan 30 00:22:18 2003
>49
45
>38
0
>237
-1 -1 34 22
>5
XXXXFe7xx3Zo2
>127
Wanderer
>187
0@localhost
>88
localhost
>84
#3;localhost;Thu Jan 30 00:22:17 2003;localhost;Wed Jan 29 23:49:20 2003;localhost;Wed Jan 29 22:51:38 2003;;;0;2;localhost;Thu Jan 30 00:22:08 2003;localhost;Wed Jan 29 23:51:55 2003;;;
>246
127.0.0.1
>221
485
>222
9
>232
94
>233
5428
>227
Thu Jan 30 00:55:12 2003
>192
*
<
!6
ChanSys
2
7
-1
0
-1

5
9
1
33554433
0
0
32768
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>280
$addcom *=*:@pemit %#=[u(ADDCOMMSG[setr(0,u(addcomf,setr(1,first(lcstr(secure(%0)))),setr(2,lcstr(secure(%1)))))],r(1),r(2))];@break [not(match(11,r(0)))];&_CH_ALIST %#=[setunion(get(%#/_ch_alist),[r(1)]:[r(2)])];&CHLIST_[r(2)] [v(STOR-DB)]=[null(ifelse(match(get([v(STOR-DB)]/chlist_[r(2)]),%#),,u([v(FX-DB)]/do_alias,xxx,:has joined this channel.,xxx:[r(2)])))][setunion(get([v(STOR-DB)]/chlist_[secure(%1)]),%#)]
>281
5:4194304:$=*:@break [not(hasattr(%#/COMHACK))];@pemit %#=[u(genericf,public,%0)];@break [or(not(match(11,r(2))),not(match(r(8),%#)))];@pemit/list [ifelse(match(on off last who,first(%0)),%#,r(8))][u([v(FX-DB)]/do_chcnt,r(1))][setq(5,[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][u(GENERICDO[setr(6,member(v(generic_cmds),mid(%0,0,1)))],public,pedit(%0,%%,\\\%,\\\%c,%c,\\\%C,%C),%#)])][ulocal([v(FX-DB)]/do_hist[r(0)],secs())]=[r(5)]
>282
5:4194304:$=* *:@break [hasattr(%#/COMHACK)];@pemit %#=[u(genericf,%0,%1)];@break [or(not(match(11,r(2))),not(match(r(8),%#)))];@pemit/list [ifelse(match(on off last who,first(%1)),%#,r(8))][u([v(FX-DB)]/do_chcnt,r(1))][setq(5,[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][u(GENERICDO[setr(6,member(v(generic_cmds),mid(%1,0,1)))],%0,pedit(%1,%%,\\\%,\\\%c,%c,\\\%C,%C),%#)])][ulocal([v(FX-DB)]/do_hist[r(0)],secs())]=[r(5)]
>283
$delcom *:@pemit %#=[u(DELCOMMSG[setr(0,u(delcomf,setr(1,first(lcstr(secure(%0))))))],r(1))];@break [not(r(0))];&_CH_ALIST %#=[setdiff(get(%#/_ch_alist),grab(get(%#/_ch_alist),[r(1)]:*))]
>39
@swi [hasattr(%#/last)]=0,{&_CH_ALIST %#=[setunion(get(%#/_CH_ALIST),n:newbie)];@toggle %#=forcehalted;@wait 0={@fo %#=@fo %#=n on;@wait 1=@toggle %#=!forcehalted};@pemit %#=ComSys: Welcome new player. Your alias for 'Newbie' is 'n'.}
>284
$@clist*:@pemit %#=[u(CLIST[match(/headers /full,%0*)])]
>285
$comlist*:@pemit %#=[ljust(Alias,10)][ljust(Channel,32)][ljust(Status,8)]Title[iter(munge(do_sort,u(order_by,%#),get(%#/_ch_alist)),%r[ljust(before(##,:),10)][s(default([v(F-DB)]/do_chancolor_[after(##,:)],[after(##,:)]))][space(sub(32,strlen(trim(after(##,:)))))][ljust(ifelse(match(get(%#/_ch_lock),after(##,:)),LCK,ifelse(match(get([v(STOR-DB)]/chlist_[after(##,:)]),%#),on,OFF)),8)][get_eval(%#/_ch_alias_[after(##,:)])])]%r---- End of comlist ----
>286
5:4194304:$comtitle *=*:@pemit %#=[u(COMTITLEMSG[setr(0,u(comtitlef,%0,%1))],%0,%1)];@break [not(match(01 11,r(0)))];&_CH_ALIAS_[secure(r(3))] %#=%1
>287
5:4194304:$.* *:@pemit %#=[u(genericf,%0,%1)];@break [or(not(match(11,r(2))),not(match(r(8),%#)))];@pemit/list [ifelse(match(on off last who,first(%1)),%#,r(8))][u([v(FX-DB)]/do_chcnt,r(1))][setq(5,[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][u(GENERICDO[setr(6,member(v(generic_cmds),mid(%1,0,1)))],%0,escape(%1),%#)])][ulocal([v(FX-DB)]/do_hist[r(0)],secs())]=[r(5)]
>288
5:4194304:$comcfg*:@pemit %#=[u(COMCFGMSG[setr(0,gte(bittype(%#),6))],setr(1,u(comcfgf,%0,%#)),%0)];@break [not(and(r(0),r(1)))];@eval [u(comcfgdo[r(1)],%0)]
>289
$comhelp:@pemit %#=ComSys: Help for Version [ansi(hb,first(v(version)))] of AshComV2 %[[ansi(hc,rest(v(version)))]%];@pemit %#=ComSys: Help completed.[list(lnum(1,words(get([v(F-DB)]/comhelp_syntax),|)),[space(5)][ljust([extract(get([v(F-DB)]/comhelp_syntax),##,1,|)]%b,30,.)] [extract(get([v(F-DB)]/comhelp_reference),##,1,|)])]
>290
[or(gte(bittype(%#),6),hastype(%#,player))]
>62
CANUSE/1
>75
ComSys: I'm sorry, but you can not use the comsystem.
>291
$@cemit *=*:@pemit %#=[u(F_CHK_CEMIT,%0,%1)];@break [not(match(111,r(2)))];@pemit/list [r(8)][u([v(FX-DB)]/do_chcnt,r(1))][setq(5,[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][u(F_DO_CEMIT,%0,%1,%#)])][ulocal([v(FX-DB)]/do_hist1,secs())]=[r(5)]
>292
$@cboot *=*:@pemit %#=[u(CBOOTMSG[setr(0,u(cbootf,%0,%1,%#))],%0,%1,%#)];@break [not(match(11,r(0)))];@eval [u(docboot,%0,%1,%#)]
>293
$comoptions:@pemit %#=ComSys: Options used to communicate on Version [ansi(hb,first(v(version)))] of AshComV2 %[[ansi(hc,rest(v(version)))]%];@pemit %#=ComSys: Help Completed.[list(lnum(1,words(get([v(F-DB)]/comoptions_syntax),|)),[space(5)][ljust([extract(get([v(F-DB)]/comoptions_syntax),##,1,|)]%b,35,.)] [extract(get([v(F-DB)]/comoptions_reference),##,1,|)])]
>294
$pennoptions:@pemit %#=ComSys: PennMUSH compatability for Version [ansi(hb,first(v(version)))] of AshComV2 %[[ansi(hc,rest(v(version)))]%];@pemit %#=ComSys: Help Completed.[list(lnum(1,words(get([v(F-DB)]/pennoptions_syntax),|)),[space(5)][ljust([extract(get([v(F-DB)]/pennoptions_syntax),##,1,|)]%b,35,.)] [extract(get([v(F-DB)]/pennoptions_reference),##,1,|)])]
>295
$@chan*/list*:@pemit %#=[u(CLIST2)]
>296
$@chan*/what*:@pemit %#=[u(CLIST1)]
>297
5:4194304:$@chan*/on *:@pemit %#=[u(CHANONMSG[setr(0,u(chanonf,or(match(pos(=,%1),#-1),and(pos(=,%1),controls(%#,pmatch(after(%1,=))))),gt(match(get([v(STOR-DB)]/ch_list),before(%1,=)),0),setr(2,before(%1,=)),after(%1,=)))],%1)];@break [or(r(4),not(match(11,r(0))))];&CHLIST_[r(2)] [v(STOR-DB)]=[setq(1,r(2))][setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][null(u([v(FX-DB)]/do_genpemit,%# [get([v(STOR-DB)]/chlist_[r(2)])],u(genericdo1,XXX,:has joined this channel.,r(5))))][setunion(get([v(STOR-DB)]/chlist_[r(2)]),r(5))]
>298
5:4194304:$@chan*/off *:@pemit %#=[u(CHANOFFMSG[setr(0,u(chanofff,or(match(pos(=,%1),#-1),and(pos(=,%1),controls(%#,pmatch(after(%1,=))))),gt(match(get([v(STOR-DB)]/ch_list),before(%1,=)),0),setr(2,before(%1,=)),after(%1,=)))],%1)];@break [or(r(4),not(match(11,r(0))))];&CHLIST_[r(2)] [v(STOR-DB)]=[setq(1,r(2))][setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][null(u([v(FX-DB)]/do_genpemit,get([v(STOR-DB)]/chlist_[r(2)]),u(genericdo1,XXX,:has left this channel.,r(5))))][setdiff(get([v(STOR-DB)]/chlist_[r(2)]),r(5))]
>299
5:4194304:$@chan*/who *:@pemit %#=[u(genericf,%1,who)];@break [or(not(match(11,r(2))),not(match(r(8),%#)))];@pemit %#[u([v(FX-DB)]/do_chcnt,r(1))][setq(5,[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][u(GENERICDO[setr(6,member(v(generic_cmds),w))],%1,who,%#)])]=[r(5)]
>300
5:4194304:$@chan*/title *=*:@pemit %#=[u(COMTITLEMSG[setr(0,u(comtitlef,%1,%2))],%1,%2)];@break [not(match(01 11,r(0)))];&_CH_ALIAS_[secure(r(3))] %#=%2
<
!7
ChannelDB
6
-1
-1
0
10

5
-1
1
301993985
0
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>434
newbie public
>435
New Player Channel
>437
New Player Channel
<
!8
GlobalErrObject
6
-1
-1
0
-1

5
-1
1
301989889
0
134217728
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>101
[switch([gt(words(rest(%0)),0)][and(match(get(%#/_CH_ALIST),[first(edit(edit(%0,?,\\\\\\?),*,\\\\\\*))]:*),not(match(get(%#/_ch_lock),after(grab(get(%#/_ch_alist),[first(%0)]:*),:))))],01,No message.,11,u([v(FX-DB)]/do_chkalias,first(%0),rest(%0),grab(get(%#/_ch_alist),[first(%0)]:*)),objeval(%#,error()))]
>100
[ifelse(pos(+,mid(%0,0,1)),u(vc,pedit(delete(%0,0,1),%%,\\\%,\\\%c,%c,\\\%C,%C)),u(vb,pedit(%0,%%,\\\%,\\\%c,%c,\\\%C,%C)))]
>102
[switch([gt(words(rest(%0)),0)][and(match(get(%#/_ch_alist),*:[grab(get([v(STOR-DB)]/ch_list),[first(%0)]*)]),not(match(get(%#/_ch_lock),grab(get([v(STOR-DB)]/ch_list),[first(%0)]*))))],01,No message.,11,u([v(FX-DB)]/do_chkalias,first(%0),rest(%0),xxx:[grab(get([v(STOR-DB)]/ch_list),[first(%0)]*)]),objeval(%#,error()))]
>430
#6
>431
#9
>432
#7
>433
#10
<
!9
ChanFunc
6
-1
-1
0
8

5
-1
1
33558529
0
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>301
[setq(5,ifelse(isdbref(pmatch(%3)),pmatch(%3),%#))]%0%1[ifelse(match(get([v(STOR-DB)]/chlist_[r(2)]),r(5)),setq(4,1),setq(4,0))]
>302
ComSys: Invalid channel specified. Use @clist for a list of channels.
>303
[u(CHANONMSG00,%0,%1)]
>304
ComSys: Invalid player specified.
>305
[ifelse(r(4),ComSys: [ifelse(match(r(5),%#),You are,[name(r(5))] is)] already on that channel.)]
>306
[setq(5,ifelse(isdbref(pmatch(%3)),pmatch(%3),%#))]%0%1[ifelse(match(get([v(STOR-DB)]/chlist_[r(2)]),r(5)),setq(4,0),setq(4,1))]
>307
[u(CHANONMSG00,%0,%1)]
>308
[u(CHANONMSG00,%0,%1)]
>309
[u(CHANONMSG01,%0,%1)]
>310
[ifelse(r(4),ComSys: [ifelse(match(r(5),%#),You are,[name(r(5))] is)] already off that channel.)]
>311
[and(gt(words(%0),0),not(match(get(%#/_ch_alist),%0:*)))][and(match(get([V(STOR-DB)]/ch_list),%1),udefault([v(F-DB)]/%1_lock,1,%#),not(match(get(%#/_ch_lock),%1)))]
>312
ComSys: Invalid channel specified. Use @clist for a list of channels.
>313
[u(addcommsg00,%0,%1)]
>314
ComSys: [ifelse(words(%0),That alias already exists. Delete it first.,Invalid alias specified. Alias must be 1 or more printable characters.)]
>315
[setq(1,grab(get([v(STOR-DB)]/ch_list),%0*))][setq(1,ifelse(or(words(r(1)),words(%0)),r(1),public))][switch([setr(2,[gt(words(r(1)),0)][and(udefault([r(1)]_lock,1,%#),not(match(get(%#/_ch_lock),r(1))))])][gt(match(setr(8,setinter(lwho(),get([v(STOR-DB)]/CHLIST_[r(1)]))),%#),0)],0*,ComSys: Sorry\, that channel does not exist.,?0*,ComSys: Sorry\, You have no access to that channel.,*0,ComSys: Sorry\, you are not on that channel.)]
>316
[setq(0,1)][u(format_chan,%2)] [setr(7,[r(7)][cname(%2)] [default(%2/saystring,says%,)] "[objeval(%2,ifelse(hasattr(%2,CH_ANSI),ansi(get(%2/ch_ansi),s(%1)),s(%1)))]")]
>317
%q3[u(DO_CHANCOLOR,r(1))]%q4[ifelse(hasattr(%0/_CH_ALIAS_[r(1)]),[setq(7,localize([setq(9,get(%0/_ch_alias_[r(1)]))][objeval(%0,[s(r(9))]%b)]))],setq(7,))]
>318
[setq(0,1)][u(format_chan,%2)] [setr(7,[r(7)][cname(%2)] [objeval(%2,ifelse(hasattr(%2,CH_ANSI),ansi(get(%2/ch_ansi),s(after(%1,:))),s(after(%1,:))))])]
>319
: ; " o w ` l
>320
[setq(0,1)][u(format_chan,%2)] [setr(7,[r(7)][cname(%2)][objeval(%2,ifelse(hasattr(%2,CH_ANSI),ansi(get(%2/ch_ansi),s(after(%1,;))),s(after(%1,;))))])]
>321
[setq(0,1)][u(format_chan,%2)] [setr(7,[r(7)][cname(%2)] [default(%2/saystring,says%,)] [objeval(%2,ifelse(hasattr(%2,CH_ANSI),"[ansi(get(%2/ch_ansi),s(delete(%1,0,1)))],s(%1)))]")]
>322
[u(do_chancolor_%0,%0)]
>323
[
>324
]
>325
ComSys: Alias of '[secure(%0)]' set for channel '[capstr(lcstr(%1))]'.
>326
[ifelse(match(on off,%1),[ifelse(match(on,%1),ulocal([v(FX-DB)]/do_joinchan,%#,1,r(1)))][ulocal([v(FX-DB)]/do_alias,xxx,:has [ifelse(match(%1,on),joined,left)] this channel.,xxx:[r(1)])][ifelse(match(off,%1),ulocal([v(FX-DB)]/do_joinchan,%#,0,r(1)))],[u(genericdo[strip(member(v(generic_cmds),mid(%1,0,1)),v(generic_strip))],%0,%1,%2,%3)])]
>327
[ifelse(match(who,%1),u(dowho,%2),u(genericdo[strip(member(v(generic_cmds),mid(%1,0,1)),v(generic_strip))],%0,%1,%2,%3))]
>328
[gt(match(get(%#/_ch_alist),%0:*),0)]
>329
ComSys: You do not have an alias by the name of '%0'.
>330
ComSys: Alias '%0' has been deleted.
>331
[s(edit(center(- channel [r(1)] listing -,78,-),r(1),v(DO_CHANCOLOR_[r(1)])))]%r*** players ***[iter(setinter(objeval(%#,lwho()),get([v(STOR-DB)]/chlist_[r(1)])),%r[space(5)][name(##)][ifelse(objeval(%#,visible(##)),%(##[objeval(%#,flags(##))]%))])]%r*** objects ***[setq(0,iter(keeptype(get([v(STOR-DB)]/chlist_[r(1)]),thing),ifelse(or(not(hasflag(##,dark)),controls(##,%#)),##)))][iter(r(0),%r[name(##)][ifelse(controls(##,%#),%(##[flags(##)]%) <Owned by: [name(owner(##))]%(##%)>)])][ifelse(words(r(0)),,%r%(None Found%))]%r[repeat(-,78)]
>332
*** [ljust(Channel,14)][ljust(--Flags--,11)][space(3)][rjust(Users,7)][rjust(Messages,11)][iter(get([v(STOR-DB)]/ch_list),ifelse(or(udefault([v(F-DB)]/##_lock,1,%#),gte(bittype(%#),5)),%r[space(4)][u(do_chancolor_##)][space(sub(14,strlen(##)))][space(11)][ifelse(match(get(%#/_ch_lock),##),%bL%b,%b%b%b)][rjust(words(get([v(STOR-DB)]/chlist_##)),7)][rjust(add(0,get([v(STOR-DB)]/chused_##)),11)]))]%r---- End of list of channels ----
>333
ComSys: Unrecognized switch for @clist.
>334
*** [ljust(Channel,25)][space(3)]Description[iter(get([v(STOR-DB)]/ch_list),ifelse(or(udefault([v(F-DB)]/##_lock,1,%#),gte(bittype(%#),5)),%r[space(4)][u(do_chancolor_##)][space(sub(25,strlen(##)))][ifelse(match(get(%#/_ch_lock),##),%bL%b,%b%b%b)][get([V(STOR-DB)]/chdesc_##)]))]%r---- End of list of channels ----
>335
[ansi(h[mid(scramble(rgbymc),0,1)],%0)]
>336
[sort(%0,,%1)]
>337
[iter(get(%0/_ch_alist),[after(##,:)]:[before(##,:)])]
>338
[gt(words(%1),0)][or(setr(1,gt(match(get([v(STOR-DB)]/ch_list),%0),0)),setr(2,gt(match(get(%#/_ch_alist),%0:*),0)))][setq(3,ifelse(r(1),%0,after(grab(get(%#/_ch_alist),%0:*),:)))]
>339
ComSys: Invalid channel name specified.
>340
[u(comtitlemsg00)]
>341
ComSys: Title has been cleared for channel '[capstr(lcstr(r(3)))]'.
>342
ComSys: Title set for channel '[capstr(lcstr(r(3)))]'.
>343
[setq(0,1)][u(format_chan,%2)] [setr(7,[r(7)][cname(%2)] [default(%2/saystring,says%,)] "[objeval(%2,s(%1))]")]
>344
457
>345
[setq(0,1)][ulocal(format_chan,%2)] [setr(6,localize(%[To: [ifelse(gt(numpos(`,%1),1),strfunc(elist,iter(u(chk_players,before(after(secure(%1),`),`)),%%%[cname%%%(##%%%)%%%]),|),cname(u(chk_players,first(after(secure(%1),`)))))]%]: [localize([setq(6,get(%2/_ch_alias_[r(1)]))][objeval(%2,[s(r(6))]%b)])][cname(%2)] [setq(5,trim(ifelse(gt(numpos(`,secure(%1)),1),after(after(escape(%1),`),`),rest(after(escape(%1),`)))))][v(do_before[setr(4,member(" : ;,mid(r(5),0,1)))])][objeval(%#,s(ifelse(member(; " :,mid(r(5),0,1)),delete(r(5),0,1),r(5))))][v(do_after[r(4)])]))][setq(7,[r(6)])]
>346
[localize([setq(0,iter(%0,ifelse(isdbref(pmatch(##)),pmatch(##))))][ifelse(words(r(0)),r(0),%#)])]
>347
says, "
>348
"
>349
says, "
>350
"
>351
/lock /locklist /chanadd /chandel /chanlist /chancolor /redesc /help /hist /cemitlock /plrlock /plrunlock /plrlist /chanborder
>352
ComSys: Permission denied.
>353
[u(COMCFGMSG_%0,%1)]
>354
ComSys: Unrecognized argument '[first(secure(%0))]' to COMCFG.
>355
[ifelse(and(match(get([V(STOR-DB)]/ch_list),rest(before(%0,=))),pos(=,rest(%0))),ComSys: Lock [ifelse(words(after(%0,=)),set,cleared)] for channel [capstr(lcstr(rest(before(%0,=))))],ComSys: Invalid arguments given with [first(secure(%0))] switch.%r[space(8)]Syntax: [extract(v(comcfgsyntax),1,1,|)][setq(1,0)])]
>356
comcfg/lock <valid channel>=[<lock>]|comcfg/locklist <valid channel>|comcfg/chanadd <new channel>=<description>|comcfg/chandel <valid channel>|comcfg/chanlist|concfg/chancolor <valid channel>=[<function>] (works like @extansi)|comcfg/redesc <valid channel>=<new description>|comcfg/help|comcfg/hist <valid channel>=<value>|comcfg/cemitlock <valid channel>=[<lock>]|comcfg/plrlock <target>=<list of channels>|comcfg/plrunlock <target>=<list of channels>|comcfg/plrlist [<optional target>]|comcfg/chanborder <left> <right>
>357
[match(v(comcfgswitches),first(secure(%0)))]
>358
[u([v(FX-DB)]/do_chanlock,rest(before(%0,=)),after(%0,=))]
>359
[ifelse(and(match(get([V(STOR-DB)]/ch_list),rest(%0)),words(rest(%0))),ComSys: Lock for channel '[capstr(lcstr(setr(9,rest(secure(%0)))))]'%r[space(8)]EvalLock: [ifelse(hasattr([v(F-DB)]/%q9_lock),parenmatch([v(F-DB)]/%q9_lock),<None Defined>)]%r[space(8)]CemitLock: [ifelse(hasattr([v(F-DB)]/%q9_cemit_lock),parenmatch([v(F-DB)]/%q9_cemit_lock),<None Defined>)],ComSys: Invalid arguments given with [first(secure(%0))] switch.%r[space(8)]Syntax: [extract(v(comcfgsyntax),1,1,|)])][setq(1,0)]
>360
[ifelse(and(setr(3,not(match(get([V(STOR-DB)]/ch_list),before(rest(%0),=)))),setr(4,words(after(%0,=)))),ComSys: New channel '[secure(capstr(lcstr(before(rest(%0),=))))]' created with desc of '[secure(after(%0,=))]'.,ComSys: Invalid arguments given with [first(secure(%0))] switch. [switch([r(3)][r(4)][gt(pos(=,%0),0)],*0,<Must use an equals>,0*,<Channel already exists>,?0?,<No description given>)][setq(1,0)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),3,1,|)])]
>361
[u([v(FX-DB)]/do_chancreate,rest(before(secure(%0),=)),after(secure(%0),=))]
>362
[ifelse(setr(3,match(get([V(STOR-DB)]/ch_list),before(rest(%0),=))),ComSys: Channel '[secure(capstr(lcstr(before(rest(%0),=))))]' deleted.,ComSys: Invalid arguments given with [first(secure(%0))] switch. [switch([r(3)][gt(pos(=,%0),0)],0*,<Channel does not exists>)][setq(1,0)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),4,1,|)])]
>363
[u([v(FX-DB)]/do_chandelete,first(rest(secure(%0))))]
>364
[ifelse(setr(3,words(rest(%0))),ComSys: Invalid arguments given with [first(secure(%0))] switch. <No arguments required>%r[space(8)]Syntax: [extract(v(comcfgsyntax),5,1,|)],ComSys: Administrative listing of channels...%r[space(5)][ljust(Channel Name,25)][ljust(Locked?,8)][ljust(History?,12)][ljust(Users,8)][ljust(Input #,8)][iter(get([V(STOR-DB)]/ch_list),%r[space(5)][u([v(F-DB)]/do_chancolor_##)][space(sub(25,strlen(##)))][ljust(ifelse(hasattr([v(F-DB)]/##_lock),Yes,No),8)][ljust(ifelse(hasattr([v(F-DB)]/##_history),Yes %([get([get([v(F-DB)]/##_history)]/HVAL)]%),No),12)][ljust(words(get([V(STOR-DB)]/chlist_##)),8)][ljust(add(0,get([V(STOR-DB)]/chused_##)),8)])]%rComSys: Listing completed.)][setq(1,0)]
>365
[ifelse(setr(3,match(before(rest(%0),=),objeval(%#,stripansi(s(after(%0,=)))))),ComSys: Channel '[capstr(lcstr(before(rest(%0),=)))]' colorcodes established.,ComSys: Invalid arguments given with [first(secure(%0))] switch. <Channels must match.>%r[space(8)]Syntax: [extract(v(comcfgsyntax),6,1,|)][setq(1,0)])]
>366
[u([v(FX-DB)]/do_chancolor,before(rest(secure(%0)),=),after(%0,=))]
>367
[ifelse(and(setr(3,match(get([V(STOR-DB)]/ch_list),before(rest(%0),=))),setr(4,words(after(%0,=)))),ComSys: Channel '[secure(capstr(lcstr(before(rest(%0),=))))]' re-desced with '[secure(after(%0,=))]'.,ComSys: Invalid arguments given with [first(secure(%0))] switch. [switch([r(3)][r(4)][gt(pos(=,%0),0)],*0,<Must use an equals>,0*,<Channel does not exist>,?0?,<No description given>)][setq(1,0)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),3,1,|)])]
>368
[u([v(FX-DB)]/do_chanredesc,rest(before(secure(%0),=)),after(secure(%0),=))]
>369
[ifelse(words(rest(%0)),ComSys: Invalid arguments given with [first(secure(%0))] switch.%rSyntax: [extract(v(comcfgsyntax),8,1,|)],ComSys: Help for command 'comcfg'[iter(v(comcfgswitches),%r[space(5)][ljust(##%b,12,.)] [extract(v(comcfghelp),#@,1,|)]%r[space(18)]Syntax: [extract(v(comcfgsyntax),#@,1,|)])])]
>370
Establishes lock for channel.|Lists lock for specified channel.|Create a new channel.|Delete an existing channel.|List special fields of all channels.|Set a colorcode for a channel.|Re-describe a channel.|Show this listing.|Set up history on channel.|Establishes cemitlock for the channel.|Lock channels from player|Restore channels to player|List locked channels (of all/player)|Set left and right channel borders.
>371
[ifelse(match(last,first(%1)),ulocal(ifelse(match(rest(%1),*?-?*),dolast_range,dolast),first(%1),rest(strip(%1,@)),%2,member(@,mid(rest(%1),0,1))),u(genericdo[strip(member(v(generic_cmds),mid(%1,0,1)),v(generic_strip))],%0,%1,%2,%3))]
>372
[u([v(FX-DB)]/do_pemit,[setq(7,min(sub(get([v([r(1)]_history)]/hval),1),max(min(ifelse(words(%1),%1,10),setr(0,words(setdiff(lattr([v([r(1)]_HISTORY)]/hist_time_*),#-1 NO MATCH)))),min(%1,r(0)),1)))][center(- history listing for [r(1)] <Recalling [r(7)] lines...> -,78,-)])][ifelse(words(setdiff(lattr([v([r(1)]_history)]/hist_*),#-1 NO MATCH)),list(ifelse(not(%3),revwords(u(do_histlinecnt,max(sub(get([setr(6,v([r(1)]_HISTORY))]/cval),1),0),sub(get([r(6)]/hval),1),r(7))),u(do_histlinecnt,max(sub(get([setr(6,v([r(1)]_HISTORY))]/cval),1),0),sub(get([r(6)]/hval),1),r(7))),[setq(9,get([r(6)]/hist_data_##))][u(do_histline,get([r(6)]/hist_time_##))]),[center(** No History Available **,78)]%r)][repeat(-,78)]
>373
[u([v(FX-DB)]/do_pemit,[setq(7,[max(1,min(words(setdiff(lattr([v([r(1)]_history)]/hist_time_*),#-1 NO MATCH)),before(%1,-),after(%1,-)))] [min(max(before(%1,-),after(%1,-),1),words(setdiff(lattr([v([r(1)]_history)]/hist_time_*),#-1 NO MATCH)))])][center(- history listing for [r(1)] <Recalling lines [first(r(7))] to [rest(r(7))]...> -,78,-)])][setq(6,v([r(1)]_HISTORY))][ifelse(words(setdiff(lattr([v([r(1)]_history)]/hist_*),#-1 NO MATCH)),list(ifelse(not(%3),revwords(u(do_histlineextr,%1)),u(do_histlineextr,%1)),[setq(9,get([r(6)]/hist_data_##))][u(do_histline,get([r(6)]/hist_time_##))]),[center(** No History Available **,78)]%r)][repeat(-,78)]
>374
[timefmt(%[$02M/$02D/$Y $02h:$02T:$02S%],first(%0))] [ljust(ifelse(controls(%#,rest(%0)),<[ljust(rest(%0),6)]>),9)] [r(9)]
>375
[extract([lnum(max(%0,0),0)] [lnum(max(%1,0),0)],1,%2)]
>376
[extract([lnum(max(0,sub(get([r(6)]/cval),1)),0)] [lnum(words(setdiff(lattr([r(6)]/hist_data_##),#-1 NO MATCH)),sub(get([r(6)]/cval),1))],max(1,first(r(7))),add(1,sub(rest(r(7)),first(r(7)))))]
>377
[ifelse(and(setr(3,match(get([V(STOR-DB)]/ch_list),before(rest(%0),=))),setr(4,words(after(%0,=)))),ComSys: Channel '[secure(capstr(lcstr(before(rest(%0),=))))]' history-size set to [min(350,max(0,after(%0,=)))].,ComSys: Invalid arguments given with [first(secure(%0))] switches. [switch([r(3)][r(4)][gt(pos(=,%0),0)],*0,<Must use an equals>,0*,<Channel does not exist>,?0?,<No history size value given>)][setq(1,0)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),9,1,|)])]
>378
[u([v(FX-DB)]/do_chanhistset,rest(before(secure(%0),=)),min(350,max(0,after(secure(%0),=))))]
>379
[setq(1,grab(get([v(STOR-DB)]/ch_list),%0*))][setq(1,ifelse(words(r(1)),r(1),public))][setq(8,setinter(lwho(),get([v(STOR-DB)]/CHLIST_[r(1)])))][switch([setr(2,[gt(words(r(1)),0)][and(udefault([r(1)]_lock,1,%#),1)][or(udefault([r(1)]_cemit_lock,0,%#),[gte(bittype(%#),5)])])],0*,ComSys: Sorry\, that channel does not exist.,?0*,ComSys: Sorry\, You have no access to that channel.,*0,ComSys: Sorry\, You do not have permission to do that.)]
>380
[setq(0,1)][u(format_chan,%2)] [setr(7,[objeval(%2,s(%1))])]
>381
[ifelse(and(match(get([V(STOR-DB)]/ch_list),rest(before(%0,=))),pos(=,rest(%0))),ComSys: CemitLock [ifelse(words(after(%0,=)),set,cleared)] for channel [capstr(lcstr(rest(before(%0,=))))],ComSys: Invalid arguments given with [first(secure(%0))] switch.%r[space(8)]Syntax: [extract(v(comcfgsyntax),1,1,|)][setq(1,0)])]
>382
[u([v(FX-DB)]/do_cemitlock,rest(before(%0,=)),after(%0,=))]
>383
[ifelse(and(isdbref(setr(3,pfind(rest(before(%0,=))))),words(setr(4,setdiff(setinter(lcstr(trim(after(%0,=))),get([V(STOR-DB)]/ch_list)),get([r(3)]/_ch_lock))))),ComSys: [capstr(lcstr(type(r(3))))] [name(r(3))] blocked from [elist(r(4))].,ComSys: Invalid arguments given with [first(secure(%0))] switch. [switch([isdbref(r(3))][words(r(4))][gt(words(setinter(lcstr(after(%0,=)),get([r(3)]/_ch_lock))),0)],0*,<Invalid target>,?00,<Invalid channel%(s%) specified>,?01,<Target already omitted from channel%(s%)>)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),11,1,|)][setq(1,0)])]
>385
[u([v(FX-DB)]/do_plrlock,rest(before(%0,=)),setinter(lcstr(after(%0,=)),get([V(STOR-DB)]/ch_list)),1)]
>386
[u([v(FX-DB)]/do_plrlock,rest(before(%0,=)),after(%0,=),0)]
>387
[ifelse(and(isdbref(setr(3,pfind(rest(before(%0,=))))),words(setr(4,setinter(lcstr(trim(after(%0,=))),get([r(3)]/_ch_lock))))),ComSys: [capstr(lcstr(type(r(3))))] [name(r(3))] restored access to [elist(r(4))].,ComSys: Invalid arguments given with [first(secure(%0))] switch. [switch([isdbref(r(3))][words(r(4))],0*,<Invalid target>,?0,<Player not locked from channel%(s%) specified>)]%r[space(8)]Syntax: [extract(v(comcfgsyntax),12,1,|)][setq(1,0)])]
>388
[ifelse(or(isdbref(setr(3,pfind(rest(%0)))),not(words(rest(%0)))),u(dolistplrs_[isdbref(r(3))]),ComSys: Invalid arguments given with [first(secure(%0))] switch. <Invalid optional target specified>%r[space(8)]Syntax: [extract(v(comcfgsyntax),13,1,|)])][setq(1,0)]
>389
[ifelse(neq(words(rest(%0)),2),ComSys: Invalid arguments given with [first(secure(%0))] switch. <Requires left and right borders>%r[space(8)]Syntax: [extract(v(comcfgsyntax),14,1,|)][setq(1,0)],ComSys: Border set to be: [objeval(%#,s(first(rest(%0))))]CHANNEL-NAME[objeval(%#,s(rest(rest(%0))))])]
>390
[u([v(FX-DB)]/do_chanborders,rest(%0),%#)]
>391
ComSys: [capstr(lcstr(type(r(3))))] [name(r(3))] [ifelse(words(get([r(3)]/_ch_lock)),locked from channels: [elist(get([r(3)]/_ch_lock))],is not locked from any channels.)]
>392
[u([v(FX-DB)]/do_genpemit,%#,lit(ComSys: Listing all players with locks%r[repeat(-,78)]%r[ljust(Type,5)][ljust(Target,35)]Channels%r[repeat(-,78)]))][setq(0,search(eval=hasattr\(##\,_ch_lock\)))][ifelse(words(r(0)),list(r(0),[u(doplrlistclr_[mid(type(##),0,1)])][ljc(name(##),35)][get(##/_ch_lock)]),[center(%(No Players Found%),78)]%r)][repeat(-,78)]
>393
[ansi(hr,R)][space(4)]
>394
[ansi(hb,T)][space(4)]
>395
[ansi(hg,E)][space(4)]
>396
[ansi(hy,P)][space(4)]
>397
[gte(bittype(%2),5)][and(match(get([V(STOR-DB)]/ch_list),%1),isdbref(pfind(%0)))]
>398
ComSys: You don't have access to @cboot.
>399
[u(cbootmsg00,%0,%1,%2)]
>400
[ifelse(isdbref(pfind(%0)),ComSys: The target channel does not exist.,ComSys: The target specified is not valid.)]
>401
ComSys: [capstr(lcstr(type(pfind(%0))))] [name(pfind(%0))] has been booted from [u([v(F-DB)]/do_chancolor_%1)].
>402
[u([v(FX-DB)]/do_cboot,%0,%1,%2)]
>403
1.0.7 10/07/2002
>404
comhelp|addcom <alias>=<channel>|=<channel> <message>|.<alias> <message>|<alias> <message>|<alias> on|<alias> off|<alias> who|<alias> last [<value>]|delcom <channel>|@clist[/full]|comlist|comtitle <channel>=<title>|comcfg[/<switch>]|@cemit <channel>=<message>|@cboot <target>=<channel>|comoptions|pennoptions
>405
Show This Screen.|Adds alias and/or joins you to channel.|Method to talk on channel.|Another method to talk on channel (uneval)|Another method to talk on channel.|Join a channel.|Leave a channel.|See who's on a channel.|List history on a channel.|Remove alias (doesn't leave channel)|Lists channels.|List channels you're on (with aliases)|Establish comtitle for channel.|Configure comsystem (/help for help)|Emit over the channel.|Boot target from channel.|List options for speaking on comsystem.|Show PennMUSH compatable functionality.
>406
<alias>:<message>|<alias>;<message>|<alias>"<message>|<alias>`<player> <message>|<alias>`<player(s)>` <message>
>407
Pose a message.|Possessive-Pose a message.|Say a message (default).|Com-to a specified person.|Com-to multiple people.
>408
+<chan> [:;"]message|@chan[nel]/who <chan>|@chan[nel]/on <chan>[=<user>]|@chan[nel]/off <chan>[=<user>]|@chan[nel]/list|@chan[nel]/what|@chan[nel]/title <chan>=<title>
>409
Pose/Possessivepose/Say a message.|See who's on channel.|[force someone to]Join a channel.|[force someone to]Leave a channel.|List channels.|List channel descriptions.|Set title for channel.
>410
[u([v(FX-DB)]/do_pemit,[setq(7,min(get([v([r(1)]_history)]/hval),max(min(ifelse(words(%1),%1,10),setr(0,words(setdiff(lattr([v([r(1)]_HISTORY)]/hist_time_*),#-1 NO MATCH)))),min(%1,r(0)),1)))][center(- history listing for [r(1)] <Recalling [r(7)] lines...> -,78,-)])][ifelse(words(setdiff(lattr([v([r(1)]_history)]/hist_*),#-1 NO MATCH)),list(u(do_histlinecnt,max(sub(get([setr(6,v([r(1)]_HISTORY))]/cval),1),0),get([r(6)]/hval),r(7)),[setq(9,get([r(6)]/hist_data_##))][u(do_histline,get([r(6)]/hist_time_##))]),[center(** No History Available **,78)]%r)][repeat(-,78)]
>430
#6
>431
#9
>432
#7
>433
#10
>436
[ansi(h,Newbie)]
>438
[ansi(hb,Public)]
<
!10
ComSysSIDEFX
6
-1
-1
0
9

5
-1
1
33554433
0
134217728
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>411
[u(do_alias_[and(udefault(#19/[after(%2,:)]_lock,1,%#),not(match(get(%#/_ch_lock),after(%2,:))))],%0,%1,%2,%3,%4,%5,%6,%7,%8,%9)]
>412
ComSys: Sorry, you have no access to that channel.
>413
[setq(3,get([v(F-DB)]/ch_template1))][setq(4,get([v(F-DB)]/ch_template2))][setq(9,v(1))][setq(1,after(%2,:))][setq(5,u([v(F-DB)]/genericdo[setr(6,member(get([v(F-DB)]/generic_cmds),mid(r(9),0,1)))],%0,r(9),%#))][pemit(ifelse(match(on off who last,first(%1)),%#,get([V(STOR-DB)]/CHLIST_[r(1)])),lit(r(5)))][u([v(FX-DB)]/do_chcnt,r(1))][ulocal([v(FX-DB)]/do_hist[r(0)],secs())]
>414
[ifelse(%1,set([V(STOR-DB)],CHLIST_%2:[setunion(get([V(STOR-DB)]/CHLIST_%2),%#)]),set([V(STOR-DB)],CHLIST_%2:[setdiff(get([V(STOR-DB)]/CHLIST_%2),%#)]))]
>415
[ifelse(ulocal(dochk,%0,%1,%2,%3,%#),u(do_alias,%0,%1,%2,%3,%4),ComSys: [switch(%1,on,You are already on that channel,off,You are already off that channel,Sorry%, you are not on that channel.)])]
>416
[or(and(not(match(on,%1)),setr(5,match(get([V(STOR-DB)]/chlist_[after(%2,:)]),%#))),and(match(on,%1),not(r(5))))]
>417
[ifelse(words(%0),set([V(STOR-DB)],chused_%0:[add(get([V(STOR-DB)]/chused_%0),1)]))]
>418
[set([v(F-DB)],%0_lock:%1)]
>419
[set([V(STOR-DB)],ch_list:[setunion(lcstr(get([V(STOR-DB)]/ch_list)),lcstr(%0))])][set([V(STOR-DB)],chdesc_%0:%1)][set([v(F-DB)],do_chancolor_%0:[capstr(lcstr(%0))])]
>420
[set([V(STOR-DB)],ch_list:[setdiff(lcstr(get([V(STOR-DB)]/ch_list)),lcstr(%0))])][set([V(STOR-DB)],chdesc_%0:)][set([v(F-DB)],do_chancolor_%0:)][set([V(STOR-DB)],chlist_%0:)]
>322
[set([v(F-DB)],do_chancolor_%0:%1)]
>421
[set([V(STOR-DB)],chdesc_%0:%1)]
>422
[setq(9,get([setr(8,get([v(F-DB)]/[r(1)]_history))]/hval))][set(r(8),HIST_TIME_[setr(5,mod(get([r(8)]/CVAL),get([r(8)]/HVAL)))]:%0 %#)][set(r(8),HIST_DATA_[r(5)]:[r(7)])][set(r(8),CVAL:[mod(add(1,get([r(8)]/CVAL)),get([r(8)]/HVAL))])]
>423
[pemit(%#,edit(%0,r(1),lit([u([v(F-DB)]/do_chancolor_[r(1)])])))]
>424
[ifelse(words(setr(3,get([v(F-DB)]/%0_history))),,[setr(4,create([capstr(lcstr(%0))]LOG,10))][tel(r(4),[v(CH-DB)])][set([v(F-DB)],%0_history:[r(4)])][setq(3,r(4))])][set(r(3),HVAL:%1)]
>425
[set([v(F-DB)],%0_cemit_lock:%1)]
>426
[ifelse(%2,set(pfind(%0),_ch_lock:[setunion(get([pfind(%0)]/_ch_lock),lcstr(%1))]),set(pfind(%0),_ch_lock:[setdiff(get([pfind(%0)]/_ch_lock),lcstr(%1))]))]
>427
[pemit(%0,%1)]
>428
[u([v(FX-DB)]/do_alias,xxx,:has @cbooted [name(pfind(%0))] off the channel,xxx:%1)][set([V(STOR-DB)],chlist_%1:[setdiff(get([V(STOR-DB)]/chlist_%1),pfind(%0))])]
>429
[set([v(F-DB)],ch_template1:[objeval(%1,s(first(%0)))])][set([v(F-DB)],ch_template2:[objeval(%1,s(rest(%0)))])]
>430
#6
>431
#9
>432
#7
>433
#10
<
!11
bbpocket
12
-1
-1
0
-1
5
5
-1
1
301989889
0
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>6
[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>439
extract(time(), 1, 3)
>440
switch(isnum(%0),1,extract(v(groups),%0,1),locate(#11,%0,ni))
>441
1
>442
iter(v(groups),switch(and(u(##/can%1,%0),not(member(get(%0/bb_omit),##))),1,##))
>443
switch(setdiff(%1,get(%0/bb_read)),,,U)
>444
sort(iter(setdiff(get(%1/mess_lst),get(%0/bb_read)),member(get(%1/mess_lst),##)))
>445
map(me/fn_maplist,secure(%0))
>446
switch(strmatch(%0,?*-*),1,lnum(before(%0,-),after(%0,-)),%0)
>448
edit(sort(iter(%0,member(%1,##))),%b,\,%b)
>450
add(%0,%1)
>451
0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
>452
1 36 1296 46656 1679616 60466176
>453
revwords(iter(v(b36_pows),switch([div(##,%0)]:[eq(##,%0)],0:*,##,*:1,##)))
>454
[setq(0,ucstr(%0))][setq(1,strlen(%q0))][fold(me/addem,[iter(lnum(%q1),mul(sub(member(v(b36_digits),mid(%q0,##,1)),1),power(36,sub(sub(%q1,##),1))))],0)]
>455
[setq(0,%0)][edit(iter(u(fn_b36_mags,%q0),[extract(v(b36_digits),add(div(%q0,##),1),1)][setq(0,sub(%q0,mul(##,div(%q0,##))))]),%b,)]
>456
u(fn_b10-to-b36,add(u(fn_b36-to-b10,%0),1))
>457
anonymous timeout
>458
timeout autotimeout
>459
2592000
>460
@dolist v(groups)={@trigger me/tr_timeout_group=##}
>461
@dolist get(%0/mess_lst)={@switch and(extract(get(%0/hdr_##),5,1,|),gt(secs(),extract(get(%0/hdr_##),5,1,|)))=1,{&hdr_## %0; &bdy_## %0; &mess_lst %0=[remove(get(%0/mess_lst),##)]; &master_lst #11=[remove(get(#11/master_lst),##)]}}
>462
@trigger me/tr_timeout; @wait 86400={@trigger me/do_timeouts}
>463
&anonymous %0=[ifelse([%1],[%1],)]; @pemit %2=Posters on the [name(%0)] group will show up as [ifelse([%1],['%1'],themselves)].
>464
&config_timeout %0=[mul(%1,86400)]; @pemit %2=New messages for group '[name(%0)]' have [ifelse(%1,a %1 day,no)] timeout.
>465
&config_timeout me=[mul(%0,86400)]; @pemit %1=BB global config parameter 'timeout': [ifelse(%0,%0 days,none)].%rAny new groups will have this value set as their default timeout.
>466
@switch [eq(hasattr(me,startup),setr(0,switch(%0,on,1,0)))]:%0=1:*,{@pemit %1=BB autotimeout is already [ifelse(%q0,on,off)].},0:on,{@startup me=@trigger me/do_timeouts; @trigger me/do_timeouts; @pemit %1=BB autotimeout turned on.},{@startup me; @pemit %1=BB autotimeout turned off.; @halt me}
>467
switch([member(get(%0/bb_read),%2)]:[u(fn_timeout_close,index(get(%1/hdr_%2),|,5,1))],0:*,U,*:1,T)
>468
@switch hasflag(%0,DARK)=0,{@pemit/list iter(remove(lwho(),%0),switch(or(member([get(##/bb_omit)] [get(##/bb_silent)],%1),not(u(%1/canread,##))),0,##))=(New BB message ([member(v(groups),%1)]/%2) posted to '[name(%1)]' by [ifelse(hasattr(%1,anonymous),get(%1/anonymous),name(%0))]: %3)}
>469
switch(%0:[lte(sub(%0,secs()),259200)],0:*,0,*:1,1,0)
>470
or(hasattr(%0,anonymous),neq(get(%0/config_timeout),get(#11/config_timeout)))
>403
4.0.6
>471
4000
<
!12
BBS - Myrddin's Global BBS v4.0.6
2
11
-1
0
6
5
5
-1
1
301989889
0
0
0
0
0
0
0
0
0
0
0
-1
>237
-1 -1 -1 -1
>6
[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>3
It's bolted down... you aint budgin' it.
>472
$+bbnewgroup *:@switch gte(bittype(%#),5)=1, {@create %0; @wait 1={@switch [setr(0,num(%0))]=#-1,{@pemit %#=That's not a good name for a group.},{&groups #11=[switch(words(get(#11/groups)),0,,[get(#11/groups)]%b)]%q0; &own %q0=%#; @set %q0=safe; @set %q0=inherit; &last_mod %q0=[u(#11/bbtime)]; &CANREAD %q0=1; &CANWRITE %q0=1; &config_timeout %q0=[get(#11/config_timeout)]; @pemit %#=Group number [member(get(#11/groups),%q0)] added as '%0'. Messages will have [ifelse(get(%q0/config_timeout),a [div(get(%q0/config_timeout),86400)] day,no)] timeout.}}}, {@pemit %#=You can't add groups to the message base.}
>473
$+bblock *=*/*:@switch gte(bittype(%#),5)=1,{@switch member(get(#11/groups),setr(0,u(#11/get_group,%0)))=0,{@pemit %#=No such group as '%0'.},{@switch %1=flag,{&CANREAD %q0=\[or(hasflag(\%0,%2),gte(bittype(\%0),5))]},{&CANREAD %q0=\[or(match(get(\%0/%1),%2),gte(bittype(\%0),5))]}; @wait 1={&CANWRITE %q0=[get(%q0/CANREAD)]}; @pemit %#=Group '%0' locked. Only people with %1=%2 can access.}},{@pemit %#=You cannot lock message groups.}
>474
$+bbcleargroup *:@switch and(gte(bittype(%#),5),member(get(#11/groups),setr(0,u(#11/get_group,%0))))=1, {&delete_grp #11=%q0; @pemit %#=%r[space(15)]******** Warning ********%r%rDeleting Group #%0 will also delete the [words(get(%q0/mess_lst))] messages in that group.%rIf you still wish to proceed, type '+bbconfirm %0'%r%r[space(15)][repeat(*,25)]%r}, {&delete_grp #11; @pemit %#=You can't remove that group (either that group does not exist, or you are not the owner).}
>475
$+bbconfirm *:@switch get(#11/DELETE_GRP)=[setr(0,u(#11/get_group,%0))], {&groups #11=[remove(get(#11/groups),%q0)]; &master_lst #11=[setdiff(get(#11/master_lst),get(%q0/mess_lst))]; @nuke %q0; &delete_grp #11; @pemit %#=Group number %0 removed.}, {&delete_grp #11; @pemit %#=That group has not been marked for deletion. Use '+bbcleargroup <#>' to mark a group for deletion.}
>476
$+bbpost */*=*:@switch member(u(#11/valid_groups,%#,write),setr(0,u(#11/get_group,%0)))=0, {@pemit %#=Either you do not subscribe to Group #%0, or are unable to post to it.},{&mess_lst %q0=[cat(get(%q0/mess_lst),setr(1,get(#11/nxt_mess)))]; &nxt_mess #11=[ulocal(#11/fn_inc_next_mess,%q1)]; &master_lst #11=[cat(get(#11/master_lst),%q1)]; &hdr_%q1 %q0=[mid(%1, 0, 34)]|[u(#11/bbtime)]|[edefault(%q0/anonymous,mid(name(%#),0,24))]|[owner(%#)]|[ifelse(get(%q0/config_timeout),add(get(%q0/config_timeout),secs()),0)]; &last_mod %q0=[u(#11/bbtime)]; &bdy_%q1 %q0=[%2][ifelse(and(hasattr(%#,bb_sig),not(hasattr(%q0,anonymous))),{%r[ulocal(%#/bb_sig)]},)]; @pemit %#=You post your note about '%1' in group [member(get(#11/groups),%q0)] ([name(%q0)]) as message #[member(get(%q0/mess_lst),%q1)][ifelse(and(hasattr(%#,bb_sig),hasattr(%q0,anonymous)),{%b%bThis is an anonymous group, your BB_SIG was -not- appended.},)]; &bb_read %#=[setunion(get(%#/bb_read),%q1)]; @trigger #11/tr_post_notify=%#,%q0,[member(get(%q0/mess_lst),%q1)],[mid(%1, 0, 34)]}
>477
$+bbremove */*:@dolist [setq(0,u(#11/get_group,%0))][revwords(sort(u(#11/fn_makelist,%1)))]={@switch or(strmatch(index(get(%q0/HDR_[setr(1,extract(get(%q0/MESS_LST),##,1))]),|,4, 1),%#), gte(bittype(%#),5))=1, {&HDR_%q1 %q0; &BDY_%q1 %q0; &MESS_LST %q0=[remove(get(%q0/MESS_LST),%q1)]; &MASTER_LST #11=[remove(get(#11/MASTER_LST),%q1)]; @pemit %#=Message ## removed from group #[member(get(#11/groups),%q0)] ([name(%q0)]).}, {@pemit %#=Either message ## does not exist, or you were not the original poster.}}
>478
$+bbread *:@switch strmatch([%0],*/*)=0,{@switch member(u(#11/valid_groups,%#,read),setr(0,u(#11/get_group,%0)))=0,{@pemit %#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},{@pemit %#=[repeat(=,78)]%r[center(**** [name(%q0)] ****,78)]%r[space(8)]Message[space(28)]Posted[space(8)]By%r[repeat(-,78)]; @dolist get(%q0/MESS_LST)={@pemit %#=[ljust([member(get(#11/groups),%q0)]/[member(get(%q0/MESS_LST),##)],6)][ljust(u(#11/fn_msg_flags,%#,%q0,##),2)][ljust(index(setr(1,get(%q0/HDR_##)),|,1,1),35)][ljust(index(%q1,|,2,1),14)][mid([index(%q1,|,3,1)][ifelse(and(hasattr(%q0,anonymous),gte(bittype(%#),5)),%b\([name(index(%q1,|,4,1))]\),)],0,21)][switch(member(get(%q0/MESS_LST),##),words(get(%q0/MESS_LST)),%r[repeat(=,78)])]}}},{@switch member(u(#11/valid_groups,%#,read),setr(0,u(#11/get_group,setr(2,first(%0,/)))))=0,{@pemit %#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},{@dolist [setq(4,member(get(#11/groups),%q0))][switch(rest(%0,/),u,u(#11/unreadnums,%#,%q0),u(#11/fn_makelist,rest(%0,/)))]={@switch [and(lte(##,words(get(%q0/MESS_LST))),isnum(##),gt(##,0))]=0,{@pemit %#=Message %q4/## ([name(%q0)]/##) does not exist.},{@pemit %#=%r[center(= [name(%q0)] =,78,=)]%r[ljust(Message: %q4/##[switch(u(#11/fn_timeout_close,index(setr(3,get(%q0/HDR_[extract(get(%q0/MESS_LST),##,1)])),|,5,1)),1,{%b(timeout warning)})],35)]Posted[space(8)]Author%r[ljust(index(%q3,|,1,1),35)][ljust(index(%q3,|,2,1),14)][mid([index(%q3,|,3,1)][ifelse(and(hasattr(%q0,anonymous),gte(bittype(%#),5)),%b\([name(index(%q3,|,4,1))]\),)],0,29)]%r[repeat(-,78)]%r[get(%q0/BDY_[extract(get(%q0/MESS_LST),##,1)])]%r[repeat(=,78)]; &bb_read %#=[setunion(get(%#/bb_read),[extract(get(%q0/MESS_LST),##,1)])]}}; @wait 2={&bb_read %#=[setinter(get(%#/bb_read),get(#11/master_lst))]}}}
>479
$+bbedit */*=*/*:@switch strmatch(index(get([setq(0,u(#11/get_group,%0))]%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),%1,1))]%q1),|,4, 1),%#)=1,{&BDY_%q1 %q0=[edit(get(%q0/BDY_%q1),{%2},{%3})]; @pemit %#=[repeat(=,78)]%rMessage [member(get(#11/groups),%q0)]/%1 ([name(%q0)]/%1) now reads:%r[repeat(-,78)]%r[get(%q0/BDY_%q1)]%r[repeat(=,78)]}, {@pemit %#=Either that message does not exist, or you were not the original poster.}
>480
$+bbleave *:@switch member(u(#11/valid_groups,%#,read),[setq(0,u(#11/get_group,%0))]%q0)=0,{@pemit %#=You aren't currently subscribing to Board #%0. No ommission necessary.},{&bb_omit %#=[setunion(get(%#/bb_omit),%q0)]; @pemit %#=You have removed yourself from the [name(%q0)] board.}
>481
$+bbjoin *:@switch member(NULL [get(%#/bb_omit)],[setq(0,u(#11/get_group,%0))]%q0)=0,{@pemit %#=[switch(member(u(#11/valid_groups,%#,read),%q0),0,{Sorry, you don't have access to that board.},{You are already a member of the [name(%q0)] board.})]},{&bb_omit %#=[setdiff(get(%#/bb_omit),%q0)]; @pemit %#=You have joined the [name(%q0)] board.}
>482
$+bbscan: @pemit %#=[switch(hasattr(#11,BB_POST_HDR_%#),1,** BB Warning: You are in the middle of writing a bbpost. **%r)][switch(setdiff(iter(setr(0,u(#11/VALID_GROUPS,%#,read)),get(##/MESS_LST)),setr(1,get(%#/BB_READ))),,There are no unread postings on the Global Bulletin Board.,[center(- Unread Postings on the Global Bulletin Board -,78,-)][setq(9,get(#11/GROUPS))][trim(iter(%q0,switch(setr(2,setdiff(setr(3,get(##/MESS_LST)),%q1)),,,%r[name(##)] \(#[member(%q9,##)]\): [words(%q2)] unread \([u(#11/FN_UNREAD_LIST,%q2,%q3)]\))),b)]%r[center(- BBS at [round(mul(fdiv(strlen(get(#11/MASTER_LST)),get(#11/BUFFER_SIZE)),100),1)]\\% capacity -,78,-)])]
>483
$+bblist:@pemit %#=[repeat(=,78)]%r[ljust(Available Bulletin Board Groups,37)]Member?[space(8)]Timeout (in days)%r[repeat(-,78)]%r%b[iter(get(#11/groups),switch(u(##/canread,%#),1,{%r%b[trim([ljust(member(get(#11/groups),##),5)][ljust(name(##),32)][ljust(switch(member(get(%#/bb_omit),##),0,Yes,No),19)][rjust(ifelse(get(##/config_timeout),div(get(##/config_timeout),86400),none),4)])]}))]%r[repeat(-,78)]%rTo join groups, type '+bbjoin <group number or name>'%r[repeat(=,78)]
>484
5:256:Myrddin's BBS was written by Myrddin@Witchcraft/Dreaming/Elysium (email: merlin@firstmagic.com). The most recent version of this code can be found at http://www.firstmagic.com/~merlin/mushcode, or via anonymous ftp from ftp.firstmagic.com in the /pub/merlin directory. Please refer interested parties to myself or those addresses, thank you. :)
>485
$+bbcatchup *:@switch lcstr(%0)=all,{&bb_read %#=[get(#11/master_lst)]; @pemit %#=All postings on all boards marked as read.},{@dolist [setq(1,u(#11/valid_groups,%#,read))][u(#11/fn_makelist,%0)]={@switch member(%q1,[setq(0,u(#11/get_group,##))]%q0)=0,{@pemit %#=You do not subscribe to Group ##.},{ &bb_read %#=[setunion(get(%#/bb_read),get(%q0/MESS_LST))]; @pemit %#=All postings on Group #[member(get(#11/groups),%q0)] ([name(%q0)]) marked as read.}}}
>486
$+bbmove */* to *:@switch and(member(u(#11/valid_groups,%#,read),[setq(0,u(#11/get_group,%0))]%q0),member(u(#11/valid_groups,%#,write),[setq(2,u(#11/get_group,%2))]%q2),not(strmatch(%q0,%q2)))=0,{@pemit %#=One of the selected groups is not valid (either it doesn't exist, you can't write to it, or you tried to 'move' to the same group).},{@switch or(strmatch(index(get(%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),%1,1))]%q1),|,4, 1),%#), and(gte(bittype(%#),5),member(get(%q0/MESS_LST),%q1)))=1,{&HDR_%q1 %q2=[get(%q0/HDR_%q1)]; &BDY_%q1 %q2=[get(%q0/BDY_%q1)]; &MESS_LST %q2=[cat(get(%q2/mess_lst),%q1)]; &MESS_LST %q0=[remove(get(%q0/MESS_LST),%q1)]; &HDR_%q1 %q0; &BDY_%q1 %q0; @pemit %#=Message '%1' removed from group '%0' and added to group '%2' as message #[member(get(%q2/mess_lst),%q1)]},{@pemit %#=Not a valid message number for that group.}}
>487
$+bbwritelock *=*/*:@switch gte(bittype(%#),5)=1,{@switch member(get(#11/groups),[setq(0,u(#11/get_group,%0))]%q0)=0,{@pemit %#=No such group as '%0'.},{@switch %1=flag,{&CANWRITE %q0=\[or(hasflag(\%0,%2),gte(bittype(\%0),5))]},{&CANWRITE %q0=\[or(match(get(\%0/%1),%2),gte(bittype(\%0),5))]}; @pemit %#=Group '%0' locked. Only people with %1=%2 can write.}},{@pemit %#=You cannot lock message groups.}
>488
$+bbpost */*:@switch hasattr(#11,bb_post_hdr_%#)=1,{@pemit %#=You are already in the middle of writing a bbpost.},{@switch strmatch(%1,*=*)=0,{@switch member(u(#11/valid_groups,%#,write),[setq(0,u(#11/get_group,%0))]%q0)=0,{@pemit %#=Either you do not subscribe to Group #%0 or are unable to post to it.},{&bb_post_hdr_%# #11=%q0|[mid(%1,0,34)]; @pemit %#=%rYou start your posting to Group #[member(get(#11/groups),%q0)] ([name(%q0)]).%rYou can now compose the body of the post by using '+bbwrite <text>'%ror '+bb <text>'. When you are finished, type '+bbpost' by itself.[ifelse(and(hasattr(%#,bb_sig),hasattr(%q0,anonymous)),{%b%bThis is an anonymous group. Your BB_SIG will -not- be appended.},)]}}}
>489
$+bbwrite *:@switch hasattr(#11,bb_post_hdr_%#)=0,{@pemit %#=You do not have a bbpost in progress.},{&bb_post_bdy_%# #11=[get(#11/bb_post_bdy_%#)]%0; @pemit %#=Text added to bbpost.}
>490
$+bbproof:@switch hasattr(#11,bb_post_hdr_%#)=0,{@pemit %#=You do not have a bbpost in progress.},{@pemit %#=[center(= BB Post in Progress =,78,=)]%rGroup: %b[name(index(get(#11/bb_post_hdr_%#),|,1,1))]%rTitle: %b[index(get(#11/bb_post_hdr_%#),|,2,1)]%r[repeat(-,78)]%r[trim(get(#11/bb_post_bdy_%#))]%r[repeat(=,78)]}
>491
$+bbpost:@switch [hasattr(#11,bb_post_hdr_%#)]:[hasattr(#11,bb_post_bdy_%#)]=0:0,{@pemit %#=You do not have a bbpost in progress.},1:0,{@pemit %#=Your post is empty. Please add text with the '+bbwrite <text>' command or discard the posting with the '+bbtoss' command.},{&mess_lst [setr(0,index(get(#11/bb_post_hdr_%#),|,1,1))]=[cat(get(%q0/mess_lst),setr(1,get(#11/nxt_mess)))]; &nxt_mess #11=[ulocal(#11/fn_inc_next_mess,%q1)]; &master_lst #11=[cat(get(#11/master_lst),%q1)]; &hdr_%q1 %q0=[index(get(#11/bb_post_hdr_%#),|,2,1)]|[u(#11/bbtime)]|[edefault(%q0/anonymous,mid(name(%#),0,24))]|[owner(%#)]|[ifelse(get(%q0/config_timeout),add(get(%q0/config_timeout),secs()),0)]; &last_mod %q0=[u(#11/bbtime)]; &bdy_%q1 %q0={[trim(get(#11/bb_post_bdy_%#))][ifelse(and(hasattr(%#,bb_sig),not(hasattr(%q0,anonymous))),{%r[ulocal(%#/bb_sig)]},)]}; @pemit %#=You post your note about '[index(get(#11/bb_post_hdr_%#),|,2,1)]' in group '[name(%q0)]' as message #[member(get(%q0/mess_lst),%q1)]; &bb_read %#=[setunion(get(%#/bb_read),%q1)]; @trigger #11/tr_post_notify=%#,%q0,[member(get(%q0/mess_lst),%q1)],[index(get(#11/bb_post_hdr_%#),|,2,1)]; &bb_post_bdy_%# #11; &bb_post_hdr_%# #11}
>492
$+bbread:@pemit %#=[repeat(=,78)]%r[space(7)]Group Name[space(20)]Last Post[space(6)]# of messages%r[repeat(-,78)][iter(u(#11/valid_groups,%#,read),%r[rjust(member(get(#11/groups),##),2)][center([switch([get(##/CANREAD)]:[get(##/CANWRITE)]:[u(##/CANWRITE,%#)],1:1:1,,1:*:1,{(-)},1:*:0,-,*)],5)][ljust(name(##),30)][ljust(get(##/LAST_MOD),20)][rjust(words([setq(0,get(##/MESS_LST))]%q0),3)]%b[ljust(u(#11/isgroupread,%#,%q0),2)])]%r[repeat(-,78)]%r[center('*' = restricted[space(5)]'-' = read only[space(5)]'\(-\)' = read only\, but you can write,78)]%r[center(=[switch(gte(bittype(%#),5),1,{= BBS at [round(mul(fdiv(strlen(get(#11/master_lst)),get(#11/buffer_size)),100),1)]\\% capacity =},=)]=,78,=)]
>493
$+bbtoss:@switch hasattr(#11,bb_post_hdr_%#)=0,{@pemit %#=You do not have bbpost in progress.},{&bb_post_hdr_%# #11; &bb_post_bdy_%# #11; @pemit %#=Your bbpost has been discarded.}
>494
$+bb *:@switch hasattr(#11,bb_post_hdr_%#)=0,{@pemit %#=You do not have a bbpost in progress.},{&bb_post_bdy_%# #11=[get(#11/bb_post_bdy_%#)]%b%0; @pemit %#=Text added to bbpost.}
>495
$+bbedit *=*/*:@switch strmatch([setq(0,ucstr(%0))]%q0,*/*)=0,{@switch %q0=TEXT,{@edit #11/bb_post_bdy_%#={%1},{%2}},TITLE,{&bb_post_hdr_%# #11=[index(get(#11/bb_post_hdr_%#),|,1,1)]|[edit(index(get(#11/bb_post_hdr_%#),|,2,1),{%1},{%2})]}; @wait 0={@pemit %#=[center(= BB Post in Progress =,78,=)]%rGroup: %b[name(index(get(#11/bb_post_hdr_%#),|,1,1))]%rTitle: %b[index(get(#11/bb_post_hdr_%#),|,2,1)]%r[repeat(-,78)]%r[trim(get(#11/bb_post_bdy_%#))]%r[repeat(=,78)]}}
>496
5:4194304:$+bbhelp*:@dynhelp myrddin_help/[trim(v(0))]=%#
>497
$+bbconfig:@pemit %#=[center(= Myrddin's Global BBS v[get(#11/version)] =,78,=)]%rGlobal Config Parameters:%r%r[rjust(timeout:,15)] [div(get(#11/config_timeout),86400)] days%r[rjust(autotimeout:,15)] [ifelse(hasattr(#11,startup),on,off)]%r[repeat(-,78)]%rBoard Config Parameters:%r%r%b[iter(filter(#11/fn_hasconfig,get(#11/groups)),%b%b[name(##)]%r[ifelse(hasattr(##,anonymous),[space(5)]anonymous: [get(##/anonymous)]%r,)][ifelse(neq(get(##/config_timeout),get(#11/config_timeout)),[space(5)]timeout: [div(get(##/config_timeout),86400)] days%r,)]%r)][repeat(=,78)]
>498
$+bbconfig *=*:@switch [strmatch(%0,*/*)]:[gte(bittype(%#),5)]=1:*,{},0:0,{@pemit %#=Huh?%b%b(Type "help" for help.)},{@switch [member(get(#11/valid_global_configs),lcstr(%0))]=0,{@pemit %#=Valid global config parameters are: [get(#11/valid_global_configs)]},{@trigger #11/tr_gconfig_%0=%1,%#}}
>499
$+bbconfig */*=*:@switch/first gte(bittype(%#),5)=0,{@pemit %#=Huh?%b%b(Type "help" for help.)},{@switch [setr(0,u(#11/get_group,%0))]:[member(get(#11/valid_configs),lcstr(%1))]=#-1:*,{@pemit %#='%0' is not a valid group name.},#-2:*,{@pemit %#='%0' is not specific enough.},*:0,{@pemit %#=Valid config parameters are: [get(#11/valid_configs)]},{@trigger #11/tr_config_%1=%q0,%2,%#}}
>500
$+bbtimeout */*=*:@dolist [sort(u(#11/fn_makelist,%1))][setq(0,u(#11/get_group,%0))]={@switch [or(strmatch(index(get(%q0/HDR_[setq(1,extract(get(%q0/MESS_LST),##,1))]%q1),|,4, 1),%#), gte(bittype(%#),5))]:[and(isnum(%2),or(and(gt(%2,0),lte(mul(%2,86400),get(%q0/config_timeout))),and(not(get(%q0/config_timeout)),gte(%2,0)),gte(bittype(%#),5)))]=1:1, {&hdr_%q1 %q0=[replace(get(%q0/hdr_%q1),5,ifelse(%2,add(secs(),mul(%2,86400)),0),|)]; @pemit %#=Message ## in group '[name(%q0)]' has [ifelse(%2,a %2 day,no)] timeout.}, 0:*,{@pemit %#=Either message ## does not exist, or you were not the original poster.},*:0,{@pemit %#=Sorry, '%2' is not a valid number of days for a timeout on the '[name(%q0)]' board. [ifelse(get(%q0/config_timeout),Maximum timeout is [div(get(%q0/config_timeout),86400)] days.,)]}}
>501
$+bbsearch */*:@switch [member(u(#11/valid_groups,%#,write),setr(0,u(#11/get_group,%0)))]:[hasattr(%q0,anonymous)]:[isdbref(setr(1,locate(%#,*%1,p)))]=0:*:*,{@pemit %#=BB Group '%0' is either an invalid Group, an unreadable Group, or a Group you do not subscribe to.},1:1:*,{@pemit %#=BB Group '[name(%q0)]' is an anonymous group.},1:0:0,{@pemit %#=No such player '%1'.},{@switch words(setr(2,grep(%q0,hdr_*,|%q1|)))=0,{@pemit %#=[name(%q1)] hasn't posted any messages to the '[name(%q0)]' Group.},{@pemit %#=%r[repeat(=,78)]%r[center(**** [name(%q0)] ****,78)]%r[space(8)]Message[space(28)]Posted[space(8)]By%r[repeat(-,78)]; @dolist %q2={@pemit %#=[ljust([member(get(#11/groups),%q0)]/[member(get(%q0/mess_lst),last(##,_))],6)][ljust(u(#11/fn_msg_flags,%#,%q0,last(##,_)),2)][ljust(index([setr(3,get(%q0/##))],|,1,1),35)][ljust(index(%q3,|,2,1),14)][mid([index(%q3,|,3,1)],0,21)][switch(member(%q2,##),words(%q2),%r[repeat(=,78)])]}}}
>503
$+bbnotify *=*:@switch/first [member(u(#11/valid_groups,%#,read),setr(0,u(#11/get_group,%0)))]:[member(on off,lcstr(%1))]:[lcstr(%1)]=0:*:*,{@pemit %#=[switch(%q0,#-2,That Group name is not specific enough.,You do not subscribe to that Group.)]},*:0:*,{@pemit %#=Invalid choice '%1'. Choices are 'on' or 'off'.},*:*:off,{&bb_silent %#=[setunion(get(%#/bb_silent),%q0)]; @pemit %#=Post notification for BB Group '[name(%q0)]' turned off. You will no longer be notified of new postings to that Group.},{&bb_silent %#=[setdiff(get(%#/bb_silent),%q0)]; @pemit %#=Post notification for BB Group '[name(%q0)]' turned on. You will now be notified of new postings to that Group.}
<
!13
Guest1
0
-1
-1
13
1
13
13
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!14
Guest2
0
-1
-1
13
13
14
14
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!15
Guest3
0
-1
-1
13
14
15
15
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!16
Guest4
0
-1
-1
13
15
16
16
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!17
Guest5
0
-1
-1
13
16
17
17
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!18
Guest6
0
-1
-1
13
17
18
18
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!19
Guest7
0
-1
-1
13
18
19
19
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!20
Guest8
0
-1
-1
13
19
20
20
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!21
Guest9
0
-1
-1
13
20
21
21
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!22
Guest10
0
-1
-1
13
21
22
22
-1
1100
4099
18874368
0
0
0
0
0
0
0
0
0
0
-1
>30
Wed Jan 29 23:39:02 2003
>49
1
>38
1
>237
-1 -1 -1 -1
>5
XX6vnJBSQWm8Q
>127
Wanderer
>6
A guest in a far away land.
>40
home
>227
Thu Jan 30 00:18:51 2003
<
!23
@mail RhostAliases <MRA>
2
-1
-1
0
24

5
-1
1
301989889
131072
8192
32768
536870912
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:03:29 2003
>227
Thu Jan 30 00:21:01 2003
>237
-1 -1 -1 -1
>403
1.2
>510
[hastoggle(%#,brandy_mail)]
>75
You need to set the BRANDY_MAIL toggle (type: @toggle me=brandy_mail) to use this feature. You may also set the MAIL_STRIPRETURN (@toggle me=mail_stripreturn) to combine lines with a space instead of a carrage return.
>62
USEMAIL/1
>511
$mmail:@dynhelp muxmail_rho=%#
>513
5:4194304:$mmail *:@dynhelp muxmail_rho/%0=%#
>515
$~*:@fo %#={mail/write +insert=1,%0}
>516
$@mail/reply *:@fo %#={mail/reply [ifelse(gt(setr(0,get(%#/mailcurrent)),0),r(0),1)]=Reply...}
>517
$@mail/replyall *:@fo %#={mail/reply @[ifelse(gt(setr(0,get(%#/mailcurrent)),0),r(0),1)]=Reply...}
>518
$@mail/reply/quote *:@fo %#={mail/reply [ifelse(gt(setr(0,get(%#/mailcurrent)),0),r(0),1)]*=Reply...}
>520
$@mail/replyall/quote *:@fo %#={mail/reply @[ifelse(gt(setr(0,get(%#/mailcurrent)),0),r(0),1)]*=Reply...}
>521
$@mail/debug*:@swi/f [gte(bittype(%#),5)]=0,@pemit %#=Permission Denied.,@pemit %#=There should be no reason for this. IF there is, check 'wizhelp wmail fix' and 'wizhelp wmail lfix'.
>523
$@mail:@fo %#={mail/status}
>524
$@mail *=*:@fo %#={mail @%0=%1}
>527
$@mail/send:@fo %#={--}
>529
$@mail/cc*:@fo %#={mail/write +acc=%0}
>532
$@cc *:@fo %#={mail/write +acc=%0}
>534
$@mail/proof:@fo %#={mail/write +proof}
>537
$@mail/edit *=*:@fo %#={mail/write +feditall=%0,%1}
>539
$@mail/abort:@fo %#={mail/write +forget}
>542
$@mail/fwd *=*:@fo %#={mail/forward %0 @%1=Forward...}
>544
$@mail/forward *=*:@fo %#={mail/forward %0 @%1=Forward...}
>547
$@mail/quick */*=*:@fo %#={mail/send @%0=%1//%2}
>549
$@mail/?stats*:@fo %#={mail/quota %0}
>552
$@mail/nuke;@swi [gte(bittype(%#),5)]=1,{@pemit %#=@mail: use wmail/wipe <target>},{@pemit %#=Permission denied.}
>555
$@mail/read *:@fo %#={mail %0}
>558
$@mail/list*:@fo %#={mail/status %0}
>561
$@malias:@fo %#={mail/alias}
>564
$@malias *=*:@pemit %#=@mail: Type: &[strip(first(secure(%0)),*)] me=@[secure(%0)]%r[space(5)]Then to use it, use &[strip(first(secure(%0)),*)] when sending mail.%r[space(5)]Example: @mail &[strip(first(secure(%0)),*)]=My Subject
>567
$@malias/remove *=*:@pemit %#=@mail: Type: &[strip(first(secure(%0)),*)] me
>570
$@malias/*:@pemit %#=@mail: That is not supported. To set aliases, just make an attribute on yourself containing the players.%r[space(5)]Example: &MYFRIENDS me=Player1 Player2 Player3%r[space(5)]To use it: @mail &MYFRIENDS=My Subject
>573
$@mail/folder:@fo %#={folder/list}
>576
$@mail/folder *=*:@pemit %#=@mail: Folders always have a name.
>579
$@mail/folder *:@fo %#={folder/change %0}
>582
$@mail/file *=*:@fo %#={folder/move %0=incoming,%1}
>585
$@mail/review *=*:@fo %#={mail/recall %1}
>588
$@mail/retract *=*:@fo %#={mail/recall %1=%0}
>591
$@mail/review *:@fo %#={mail/recall *%0}
>594
$@mail/clear *:@fo %#={mail/mark %0}
>597
$@mail/unclear *:@fo %#={mail/unmark %0}
>600
$@mail/purge:@fo %#={mail/delete}
>603
$@mail/tag *:@pemit %#=This option not available.
>605
$@mail/untag *:@pemit %#=This option not available.
>607
$@mail/safe *:@fo %#={mail/mark/safe %0}
>609
$@mail *:@fo %#={mail %0}
<
!24
PennMailer Object <PMO>
2
-1
-1
0
25

5
-1
1
301989953
147464
8192
0
536870912
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:03:34 2003
>227
Thu Jan 30 00:21:01 2003
>237
-1 -1 -1 -1
>403
1.0
>514
[and(hastoggle(%#,penn_mail),not(hastoggle(%#,brandy_mail)))]
>62
CHKUSE/1
>511
$pmail:@dynhelp pennmail_rho=%#
>513
5:4194304:$pmail *:@dynhelp pennmail_rho/%0=%#
>519
5:4194304:$@mail *=*:@fo %#={mail %0=%1}
>522
5:4194304:$@mail/send *=*:@fo %#={mail/send %0=%1}
>526
5:4194304:$@mail/urgent *=*:@fo %#={mail/send %0=%1}
>531
5:4194304:$@mail/silent *=*:@fo %#={mail/send %0=%1}
>536
5:4194304:$@mail/nosig *=*:@fo %#={mail/send %0=%1}
>541
5:4194304:$@mail/fwd *=*:@fo %#={@dolist %0=mail/forward ## %1}
>546
5:4194304:$@mail/read *:@swi [match(%0,*-*)]=0,@fo %#={mail/read %0},@fo %#={@dolist [lnum(before(%0,-),after(%0,-))]=mail/read ##}
>551
$@mail:@fo %#={mail/status}
>554
$@mail/list:@fo %#={mail/status}
>557
$@mail/folder:@fo %#={folder/list}
>560
$@mail/folder *=*:@pemit %#=Folders always have names.
>563
$@mail/unfolder *:@pemit %#=Folders always have names.
>566
$@mail/folder *:@fo %#={folder/change %0}
>569
$@mail/file *=*:@fo %#={folder/move %0=Incoming,%1}
>572
$@mail/clear *:@fo %#={mail/mark %0}
>575
$@mail/unclear *:@fo %#={mail/unmark %0}
>578
$@mail/purge:@fo %#={mail/delete}
>581
$@mail/tag*:@pemit %#=Sorry, this function unavailable.
>584
$@mail/untag*:@pemit %#=Sorry, this function unavailable.
>587
$@mail/stats*:@fo %#={mail/quota %0}
>590
$@mail/dstats*:@fo %#={mail/quota %0;@pemit %#=[setr(0,mailquick(ifelse(hastype(%0,player),%0,%#),,1))][first(r(0))] Read/[extract(r(0),2,1)] Unread}
>593
$@mail/fstats*:@fo %#={mail/quota %0;@pemit %#=[setr(0,mailquick(ifelse(hastype(%0,player),%0,%#),,1))][first(r(0))] Read/[extract(r(0),2,1)] Unread%rTotal size in bytes for mail sy system: [msizetot()]}
>596
$@mail/nuke:@pemit %#=Check 'wizhelp wmail cmdlist'.
>599
$@mail/debug*:@pemit %#=Check 'wizhelp wmail cmdlist'.
>602
5:4194304:$@mail*:@fo %#={mail %0}
<
!25
Send Mail RhostAliases <SMA>
2
-1
-1
0
12

5
-1
1
301989889
131072
8192
32768
536870912
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:03:37 2003
>227
Thu Jan 30 00:21:01 2003
>237
-1 -1 -1 -1
>403
1.5
>75
You need to set the BRANDY_MAIL toggle (type: @toggle me=brandy_mail) to use this interface.
>510
[hastoggle(%#,brandy_mail)]
>511
$bmail:@dynhelp brandymailer_rho=%#
>513
5:4194304:$bmail *:@dynhelp brandymailer_rho/%0=%#
>62
USEMAIL/1
>525
$+dumpmail*:@pemit %#=+Mail: This option not yet supported.
>528
$+mailstatus *:@pemit %#=[ifelse(objeval(%#,hastype(*%0,player)),+Mail: [name(*%0)] has [ifelse(gt(0,extract(mailquick(*%0,,1),1,1)),new mail,unread mail)].,Permission denied.)]
>530
$+set mail option delete=*:@pemit %#=Mail deleting is always soft.
>533
$+set mail option mode=*:@pemit %#=Mail mode can not be changed.
>535
$+set mail option format=*:@pemit %#=Mail format is always standard.
>538
$+set mail option autoforward=*:@fo %#={mail/autofor %0}
>540
$+set mail option seperator=*:@pemit %#=You have specified your seperator to be a [ifelse(setr(0,match(%0,space)),SPACE,RETURN)];@toggle %#=[ifelse(r(0),MAIL_STRIPRETURN,!MAIL_STRIPRETURN)]
>543
$+set mail option inbox=*:@fo %#={folder/change %0}
>545
$+set mail option vacation=*:@pemit %#=Vacation message will overwrite reject message (if exists);@fo %#={mail/reject %0}
>548
$+set mail option reject=*:@pemit %#=Reject message will overwrite vacation message (if exists);@fo %#={mail/reject %0}
>550
$+show mail options:@fo %#={mail/reject +list;mail/quota;think Mail: Signature is [ifelse(words(setr(0,get(me/mailsig))),r(0),currently empty)]%%rMail: Currently on message [max(get(%#/mailcurrent),1)]%%rMail: [ifelse(hastoggle(%#,brandy_mail),You currently have the brandy mail interface active,You do not have the brandy mail interface active)]%%rMail: [ifelse(hastoggle(%#,MAIL_STRIPRETURN),Your seperator is currently a SPACE.,Your seperator is currently a RETURN.)]%%rMail: Your mailbox is currently taking up [mailsize(%#,2)] bytes.}
>553
$+note *=*:@fo %#={mail/send %#=%0//[escape(%1)]}
>556
$+onote *=*//*:@fo %#={mail/send %0=%1://[escape(%2)]}
>559
$+check mail:@fo %#={mail/quick}
>562
$+read:@fo %#={mail/quick}
>565
$+unread*:@pemit %#=You can't unread mail messages.
>568
$+skim*:@fo %#={mail/status %0}
>571
$+read *:@dolist %0={@fo %#=mail/read ##;&MAILCURRENT %#=##}
>574
$+reply *:@fo %#={mail/reply [first(%0)]*=Reply: [rest(%0)]}
>577
$+reply:@swi [words(get(%#/mailcurrent))]=0,{@pemit %#=+Mail: Reply to what message?},{@fo %#={mail/reply [get(%#/mailcurrent)]*=Reply...}}
>580
$+replyall *:@fo %#={mail/reply @[first(%0)]*=Reply: [rest(%0)]}
>583
$+replyall:@swi [words(get(%#/mailcurrent))]=0,{@pemit %#=+Mail: Reply to what message?},{@fo %#={mail/reply @[get(%#/mailcurrent)]*=Reply...}}
>586
$+replynm *:@fo %#={mail/reply [first(%0)]=Reply: [rest(%0)]}
>589
$+replynm:@swi [words(get(%#/mailcurrent))]=0,{@pemit %#=+Mail: Reply to what message?},{@fo %#={mail/reply [get(%#/mailcurrent)]=Reply...}}
>592
$+replyall:@swi [words(get(%#/mailcurrent))]=0,{@pemit %#=+Mail: Reply to what message?},{@fo %#={mail/reply @[get(%#/mailcurrent)]=Reply...}}
>595
$+mail status*:@swi [and(gte(bittype(%#),5),strmatch(%0,for *))]=1,{@fo %#=mail/quota [num(*[after(%0,for)])]},{@fo %#=mail/quota}
>598
$+forward to *:@fo %#={mail/forward [get(%#/mailcurrent)] @%0}
>601
$+forward * to *:@fo %#={mail/forward %0 @%1}
>604
$+forward *=*:@fo %#={mail/forward [get(%#/mailcurrent)] @%0=%1}
>606
$+bounce *=*:@fo %#={mail/forward %1 @%0}
>608
$+review:@fo %#={mail/recall/all}
>610
$+review letters:@fo %#={mail/recall/all}
>611
$+review letters *:@fo %#={mail/recall/all *%0}
>612
$+review unread letters:@fo %#={mail/recall}
>613
$+review unread letters *:@fo %#={mail/recall *%0}
>614
$+review letter *:@fo %#={mail/recall %0}
>615
$+retract letter *:@fo %#={mail/recall %0=+all}
>616
$+mail *=*:@fo %#={mail @%0=%1}
>617
$+set mail quota *=*/*:@swi [gte(bittype(%#),5)]=1,{@fo %#=wmail/size %0=%1},{@pemit %#=Permission Denied.}
>618
$+destroy mailbox for *:@swi/f [gte(bittype(%#),5)]=1,{@fo %#=wmail/wipe %0},{@pemit %#=Permission Denied}
>619
$+cc *:@fo %#={mail/write +cc=%0}
>620
$+bcc *:@fo %#={mail/write +bcc=%0};@pemit %#=Warning: This doesn't do what you expect. (mail list REPLACED)
>621
$+edit *=*:@fo %#={mail/write +feditall=%0,%1}
>622
$+subject *:@fo %#={mail/write +subject=%0}
>623
$+proof:@fo %#={mail/write +proof}
>624
$+toss:@fo %#={mail/write +forget}
>625
$+send:@fo %#={--}
>626
$+add note *:@fo %#={mail/write %0}
>627
$+delete*:@fo %#={mail/mark [ifelse(words(%0),%0,get(%#/mailcurrent))]}
>628
$+mark*:@pemit %#=You can't tag/mark mail messages.
>629
$+unmark*:@pemit %#=You can't untag/unmark mail messages.
>630
$+save *:@fo %#={mail/mark/save %0}
>631
$+unsave *:@fo %#={mail/unmark %0}
>632
$+clear*:@fo %#={mail/mark [ifelse(strlen(%0),%0,get(%#/mailcurrent))]}
>633
$+undelete*:@fo %#={mail/unmark [ifelse(strlen(%0),%0,get(%#/mailcurrent))]}
>634
$+flush:@fo %#={mail/delete}
>635
$+add personal alias *=*:@fo %#={&[first(secure(%0))] %#=@ [secure(%1)]};@pemit %#=Personal mail alias '[first(secure(%0))]' stored with list '[secure(%1)]'. To use in a mail message, use '+mail &alias=subject'
>636
$+remove personal alias *:@fo %#={&[first(secure(0))] %#};@pemit %#=Personal mail alias '[first(secure(%0))]' removed.
>637
$+expand personal alias *:@pemit %#=Contents of personal mail alias '[first(secure(%0))]':%r[get(%#/[first(secure(%0))])]
>638
$+list personal aliases:@pemit %#=Note: this is the same as lattr(me):%r[objeval(%#,lattr(%#))]
>639
$+add global alias *=*:@fo %#={wmail/alias %0=[setunion(mailalias(%0),num(*%1))]}
>641
$+remove global alias *:@fo %#={wmail/alias/remove %0}
>642
$+expand global alias *:@fo %#=wmail/alias
>643
$+list global aliases:@fo %#=mail/alias
>644
$+add folder *:@fo %#={folder/create %0}
>645
$+remove folder *:@fo %#={folder/delete %0}
>646
$+list folders:@fo %#=folder/list
>647
$+select folder *:@fo %#={folder/change %0};&CURRENT_FOLDER %#=[secure(%0)]
>648
$+select folder:@fo %#=folder/change;&CURRENT_FOLDER %#=Incoming
>649
$+move * to *:@switch [get(%#/current_folder)]=,{&CURRENT_FOLDER %#=Incoming};@fo %#={folder/move %0=[get(%#/current_folder)],%1}
>650
$+move/subj * to *:@switch [get(%#/current_folder)]=,{&CURRENT_FOLDER %#=Incoming};@fo %#={folder/move [mailstatus(%#,/%0)]=[get(%#/current_folder)],%1}
>651
$+zap*:@fo %#={mail/zap %0}
<
!26
SGP - Global Parent Object
2
-1
-1
0
23

5
-1
1
301989889
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:10:55 2003
>227
Thu Jan 30 00:13:11 2003
>237
-1 -1 -1 -1
>652
#26|#30|#28|#29|#27
>653
1.0|Base 042501|Jan 30 2003
>654
Base Install 042501 [elements(time(),2 3 5)]
>6
This is the global data object for SGP. All the main global objects read data and write from this object and their code will -not- work without it. Non-command attributes for globals that you add to any of the globals objects should be placed here.%R%R[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>655
[repeat(^,78)]
>656
[switch(type(%0),P*,[sign(conn(%0))],[andflags(%0,!D)])]
>657
[and(not(hasflag(%0,unfindable)),not(hasflag(%0,dark)),not(hasflag(loc(%0),unfindable)))]
>658
[fold(%!/COLDISP_FLD, %0, %r%b%b, %1)]
>659
%0[switch(1, gt(setq(1, sub(mul(setq(2, add(div(strlen(%1), 18), 1))%q2, 18), 1))%q1, sub(76, mul(%q0, 18))), %r%b%b%b[ljust(edit(%1, _, %b), %q1)][setq(0, %q2)], %b[ljust(edit(%1, _, %b), %q1)][setq(0, add(%q2, %q0))])]
>660
Angel@Heaven.Gofast.Net
>661
Angel@Heaven.Gofast.Net
>662
Audumla@Granite
>663
Orion@Granite
>664
Miateila@Granite
>665
Cheetara@Granite
>666
BEM@Granite
>667
Ian@BrazilMUX
>668
Created from scratch by Ashen-Shugar (c) 2001, All rights reserved. This code, with permission, belongs to the SGP code development. All issues with credibility, ownership, or code herein should be brought to the distributors of SGP. This code is original and is not based (other than syntax and attribute compatability) off any other code.
>669
Audumla@Granite
>670
BEM@Granite
>671
Audumla@Granite
>672
[orflags(%0,!D)]
>673
[match(loc(%0),%l)]
>674
Full Name|Age|Fame|Position|Apparent Age|Plan|RP-Prefs|Alts|Theme Song|Quote|Office-hours|Temperment|Vacation|Homepage
>675
fullname|age|fame|position|app-age|plan|rp-prefs|alts|themesong|quote|off-hours|temperment|vacation|url
>676
[repeat(==,39)]
>677
[repeat(--,39)]
>678
[repeat(=o,39)]
>679
[repeat(-%%-!,15)]
>680
[repeat(-%%,26)]
>681
[repeat(%%-!-,15)]
>682
[repeat(o-o=o ,15)-o]
>683
[repeat(ozz,26)]
>684
[repeat(oz,39)]
>685
x[repeat(x-==-,15)]xx
>686
[repeat(o-==-o,15)]
>687
--oo[repeat(%B-==-%B,12)]oo--
>688
[setq(6,%0)][iter(filter(FIL_IS$,lattr(%q6)),##)]
>689
%r[name(%0)]%(%0[flags(%0)]%)[iter(u(FN_SCANOBJ,%0),%r[space(4)][ljust(##,40)]%[[mid(get(%0/##),1,sub(pos(:,get(%0/##)),2))]%])]
>690
[center(>%B%B[mudname()]%B%B<,78,=)]%R
>691
[center(>%B%B[mudname()] Staff%B%B<,78,=)]
>692
[center(>%B%B[mudname()] Connected Staff%B%B<,78,=)]
>693
switch(1,lt(%0,60),%0s,lt(%0,3600),div(%0,60)m,lt(%0,86400),div(%0,3600)h,div(%0,86400)d)
>694
[setq(9,sub(convtime(%1),convtime(%0)))][ulocal(secs2hrs,%q9)]
>695
Sample|Audumla|Done and Installed on Global
>696
[comp(name(loc(%0)),name(loc(%1)))]
>697
[comp(name(%0),name(%1))]
>698
[comp(loc(%0),loc(%1))]
>699
[switch(1,lte(%0,60),%0s,lte(%0,3600),{[div(%0,60)]m},lte(%0,86400),{[div(%0,3600)]h [rjust(div(mod(%0,3600),60),2)]m},{[div(%0,86400)]d [rjust(div(mod(%0,86400),3600),2)]h})]
>700
#0
>701
#0
>702
switch(1,lt(%0,60),rjust(%0s,7),lt(%0,3600),rjust(div(%0,60)m,3)[rjust(mod(%0,60)m,4)],lt(%0,86400),rjust(div(%0,3600)h,3)[rjust(div(mod(%0,3600),60)m,4)],rjust(div(%0,86400)d,3)[rjust(div(mod(%0,3600),3600)h,4)])
<
!27
SGP - Global Functions
2
-1
-1
0
26

5
-1
1
306184193
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:10:56 2003
>227
Thu Jan 30 00:13:57 2003
>237
-1 -1 -1 -1
>653
1.0|Base 121600|Jan 30 2003
>654
Base Install 121600 [elements(time(),2 3 5)]
>6
This is the global function object for SGP. The startup on this object must be triggered at every startup of the server. As such, the #1 startup on #1 must include the appropriate trigger or the server must be configured so that wizards can use @function. This decision is a matter of preference.%R%R[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>703
[gt(member(get(v(DB)/staff-list),%0),0)]
>19
@dolist lattr(me/fn_*)=@function after(##,FN_)=me/##;@dolist lattr(me/fnp_*)=@function after(##,FNP_)=me/##
>704
[setq(0,div(75,%1))][setq(1,switch(mod(words(%0,%2),%q0),0,div(words(%0,%2),%q0),add(div(words(%0,%2),%q0),1)))][iter(lnum(%q1),%r[u(COLUMNS3,extract(%0,add(mul(##,%q0),1),%q0,%2),%1,%2)])]
>705
[iter(%0,ljust(##,%1),%2)]
>706
[not(comp(mid(get(%q6/%0),0,1),$))]
>707
iter(ldelete(%0,words(%0,%1),%1),##%,,%1) and [last(%0,%1)]
>708
[ulocal(SGP - Global Functions/COLUMNS2,%0,%1,%2)]
>709
edit(%0,%B,-)
>710
[switch(1,gt(%0,24),#-1,lt(%0,1),#-1,iter(lnum(%0),add(1,rand(10))))]
>711
[setq(6,locate(%0,%1,aimnpP))][switch(r(6),#-*,locate(%0,*%1,p),r(6))]
>712
orflags(%0,iWaBg)
>713
[elements(time(),2 3 5)]
>714
[switch(1,gt(%0,24),#-1,lt(%0,1),#-1,[setq(0,dice(%0))][setq(1,words(iter(%q0,switch(1,gte(##,%1),##))))][setq(2,words(iter(%q0,switch(##,1,##))))][sub(%q1,%q2)])]
>688
[setq(6,%0)][iter(filter(FIL_IS$,lattr(%q6)),##)]
>689
%r[name(%0)]%(%0[flags(%0)]%)[iter(u(FN_SCANOBJ,%0),%r[space(4)][ljust(##,40)]%[[mid(get(%0/##),1,sub(pos(:,get(%0/##)),2))]%])]
<
!28
SGP - Main Globals
2
-1
-1
0
27

5
-1
1
301989889
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:10:57 2003
>227
Thu Jan 30 00:42:14 2003
>237
-1 -1 -1 -1
>279
#26
>653
1.0|Base 121600|Jan 30 2003
>654
Base Install 121600 [elements(time(),2 3 5)]
>6
This is the main globals object for SGP. These are global commands that every player will have access to and use.%R%R[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>715
$+accept:&accept-conditions %#=time(); @pemit %#=You have acknowledged the Acceptable Use Policy as of [get(%#/accept-conditions)].
>716
$+beginner:@pemit %#=[center(Commands for Beginning MUSHers,78, )]%R%RMUSH is new to some of you and probably a little daunting. To ease your feelings of panic, we offer a very basic list of commands that will get you looking around and using the various features of the game.%R%R"<message>[space(16)]You say <message>%RSay <message> [space(12)]See above.%Rooc <message>[space(13)]Makes an OOC statement or pose.%Rpage <person>=<message>[space(3)]Pages <person> with <message>%Rlook[space(22)]Shows you the room you are standing in.%Rlook <object or person>[space(3)]Shows the desc for that object or person%Rpose <message>[space(12)]You pose <message> EX: pose grins.->John Doe grins.%R:<message>[space(16)]See 'pose" above%RWHO[space(23)]Shows a list of who is connected to the MUSH%R+who[space(22)]Shows a modified WHO.%R+help[space(21)]The global +help system.%R+staff[space(20)]Shows connected Staff%R+staff/all[space(16)]Shows the staff roster.%R%RNOTE: MUSH commands may be case sensitive. You can always page a staffer for help.%R%r"+beginner" recalls this file%R
>717
$+finger *:[setq(0,switch([type(num(%0))],PLAYER,[num(*%0)],[switch([type(num(*%0))],PLAYER,[Num(*%0)],[locate(%#,%0,mp)])]))][setq(9,and(not(and(hasflag(%q0,Dark),not(IsStaff(%#)))),switch(member(lwho(),%q0),0,0,1)))][setq(8,idle(%q0))]; @switch %q0= #-1,@pemit %#=That is not a player.,#-2,@pemit %#=There is more than one %0.,{@pemit %#=[center(---<@%B%B[name(%q0)[switch(isstaff(%#),0,,(%q0) [flags(%q0)])]]%B%B@>---,78,=)]%r[ljust(Alias:%B%B[switch(hasattr(%q0,alias),1,[u(%q0/Alias)],)]%B[switch(hasflag(%q0,Wizard),0,switch(hasflag(%q0,Immortal),0,switch(hasflag(%q0,Builder),0,,(Builder)),(Immortal)),(Wizard))],39)]|[ljust([switch(%q9,0,Last on: [get(%q0/last)],1,On for: [u(v(db)/secs2hrs,conn(%q0))][space(10)]Idle: [u(v(db)/secs2hrs,%q8)])],38)]%R[ljust(Sex: %B%B%B[switch(strlen(get(%q0/sex)),0,None Set,get(%q0/sex))],39)]|[ljust(Mail:%B%B[extract(mail(%q0),2,1)] unread / [extract(mail(%q0),1,1)] total.,38)]%R[ljust([switch(hasattr(%q0,email),1,E-Mail:%B[get(%q0/email)],E-Mail:%B(unlisted))],39)]|[ljust(,38)]%R[u(v(db)/footer)]%R[switch(findable(%#,%q0),1,Location:[space(7)][name(loc(%q0))],[switch(isstaff(%#),1,Location:[space(7)][name(loc(%q0))] (unfindable),Location:[space(7)](unfindable))])][setq(7,[u(v(db)/finger_list)])][iter(%q7,{[switch(1,hasattr(%q0,##),{%r[ljust([index([u(v(db)/finger_list_long)],|,[member(%q7,##,|)],1)]:,16)][u(%q0/##)]})]},|)][iter(lattr(%q0/finger*),%r[ljust(capstr(lcstr(edit(edit(##,FINGER_,),FINGER-,))):,15)]%t[u(%q0/##)])]; @pemit %#=[switch(hasflag(%#,wizard),0,,[repeat(-,78)]%RRegistration:%t%t[get(%q0/registration)]%rLast online from:%t[get(%q0/lastsite)]%r[switch(%q9,0,,Currently online from:%t[get(%q0/lastsite)]%r)])][u(v(db)/footer)];@switch hasflag(%#,DARK)=1,{},{@verb %q0=%#,,,,,afinger,}}
>718
$+glance:@pemit %#=[center(%B%BAt a glance around [name(%l)%B%B],78,-)][iter(filter(v(DB)/cansee, lcon(%l)), %r[ljust(mid(name(##),0,20),21)]%B[switch(type(##),player,{rjust(elements(u(v(DB)/secs2hrs,idle(##)),1),3)})] %b[mid(get(##/short-desc),0,50)])]%r[u(v(db)/footer)]
>719
$+ic:@switch get(%#/approved)=,{@pemit %#=You must have your stats approved before you can join the IC play.},{@tel %#=switch(get(%#/last_ic),,v(starting_ic_loc),get(%#/last_ic));@pemit %#=You are now on the IC grid.;&last_ic %#}
>720
$+info:@pemit %#=[center(%bYour Info%b,78,=)]%rGeneral: [switch(hasattr(%#,info-general),0,Unset. Type '&info-general me=Text' to set it.,get(%#/info-general))][iter(edit(lattr(%#/info-*),INFO-GENERAL,),%r[capstr(lcstr(after(##,INFO-)))]: [get(%#/##)])]%r[u(v(db)/footer)]
>721
$+info *:@pemit %#=[switch(num(*%0),#-1,That is not a player.,{[center(%b[capstr(%0)]'s Info%b,78,=)]%rGeneral: [switch(hasattr(*%0,info-general),0,Unset.,get(*%0/info-general))][iter(edit(lattr(*%0/info-*),INFO-GENERAL,),[switch(or(match(squish(edit([string(%#,race)] [string(%#,tradition)] [string(%#,tribe)] [string(%#,clan)] [string(%#,faction)],NOT SET,)),after(##,INFO-)),isstaff(%#)),0,,%r[capstr(lcstr(edit(##,INFO-,)))]: [get(*%0/##)])])]%r[repeat(=,78)]})]
>722
$+knock *:@switch setq(0,locate(%#,%0,e))%q0=#-1, {@pemit %#=I don't see %0 here.}, #-2, {@pemit %#=Which %0?}, {@pemit/contents [loc(%q0)]=There is a knocking upon the door, coming from the direction of [name(loc(%#))].; @pemit/contents [loc(%#)]=%N knocks on the door marked '[name(%q0)]'.}
>725
$'*: @pemit/contents %l=<OOC> %N[switch(mid(%0,0,1),:,%b[delete(%0,0,1)],;,[delete(%0,0,1)],%bsays\, "%0")]
>726
$ooc *: @pemit/contents %l=<OOC> %N[switch(mid(%0,0,1),:,%b[delete(%0,0,1)],;,[delete(%0,0,1)],%bsays\, "%0")]
>727
$+3who:@pemit %#=setq(0,v(db))[setq(7,0)][u(v(db)/header)]%B[repeat(|NAME[space(9)]On for Idle,3)]|%r%b|----------- ------- ----|----------- ------- ----|----------- ------- ----[setq(1,0)][setq(8,iter(lwho(),switch(hasflag(##,dark),1,,setq(9,%q9[setq(1,add(%q1,1))][switch(mod(%q1,3),1,|%r%b)]|[ljust(mid(name(##),0,12),12)][u(%q0/twodigconn,conn(##))][rjust(mid(u(%q0/idletime,idle(##)),0,5),5)]))[setq(7,add(%q7,1))]))]%q9%r%b|[repeat(-,74)]|%r%b%b%q7 players connected.%R[u(v(db)/footer)]
>728
$+lwho: @pemit %#=setq(0,0)[u(v(db)/header)][ljust(Player,15,)] [ljust(Sex,3)] [ljust(Alias,5)][rjust(Idle,6)] [ljust(mid(Location,0,28),28,)] [ljust(dbref,6)]%R[u(v(db)/footer)][iter(filter(v(db)/fil-LWHO,lwho()),switch(and(hasflag(##,dark),not(isstaff(%#))),1,,%R[ljust(name(##),15,.)] [ljust(mid(u(##/sex),0,1),3)] [ljust(mid(u(##/alias),0,5),5)][rjust(mid(u(v(db)/secs2hrs,idle(##)),0,6),6)] [ljust(switch(and(or(hasflag(##,unfindable),hasflag(loc(##),unfindable)),not(or(hasflag(%#,wizard),hasflag(%#,immortal)))),1,,mid(name(room(##)),0,28)),28,.)] [ljust(switch(or(isstaff(%#),and(hasflag(loc(##),JUMP_OK),not(hasflag(##,UNFINDABLE)),not(hasflag(loc(##),UNFINDABLE)))),0,,mid(room(##),0,5)),6,.)][ljust(switch(1,ostaff(##),Staff),6)])[setq(0,add(%q0,not(hasflag(##,dark))))])]%r[u(v(db)/footer)]%RThere are %q0 players connected in location [name(%L)]%R[u(v(db)/footer)]
>729
$+where: @pemit %#=setq(0,0)[u(v(db)/header)][ljust(mid(Location,0,28),28,)][ljust(Player,15,)][rjust(Idle,6)] %R[u(v(db)/footer)][iter(setq(9,sortby(v(db)/locsort,filter(v(db)/canfind,lwho())))%q9,%r[ljust(mid(name(loc(##)),0,27),27,.)]%b[ljust(name(##),16)] [rjust(mid(u(v(db)/secs2hrs,idle(##)),0,6),6)])]%r[u(v(db)/footer)]%RThere are [words(%q9)] findable players connected.%R[u(v(db)/footer)]
>730
$+who: @pemit %#=[u(v(db)/header)][ljust(Player,15,)] [ljust(Sex,3)] [ljust(Alias,5)][rjust(Idle,6)] [ljust(mid(Location,0,28),28,)] [ljust(dbref,6)]%R[u(v(db)/footer)][iter(lwho(),switch(and(hasflag(##,dark),not(isstaff(%#))),1,,%R[ljust(name(##),15,.)] [ljust(mid(u(##/sex),0,1),3)] [ljust(mid(u(##/alias),0,5),5)][rjust(mid(u(v(db)/secs2hrs,idle(##)),0,6),6)] [ljust(switch(and(or(hasflag(##,unfindable),hasflag(loc(##),unfindable)),not(or(hasflag(%#,wizard),hasflag(%#,immortal)))),1,,mid(name(room(##)),0,28)),28,.)] [ljust(switch(or(isstaff(%#),and(hasflag(loc(##),JUMP_OK),not(hasflag(##,UNFINDABLE)),not(hasflag(loc(##),UNFINDABLE)))),0,,mid(room(##),0,5)),6,.)][ljust(switch(1,ostaff(##),Staff),6)]))]%r[u(v(db)/footer)]%RThere are [words(sortby(v(db)/cansee,lwho()))] players connected%R[u(v(db)/footer)]
>731
$+who *: @pemit %#=[u(v(db)/header)][ljust(Player,15,)] [ljust(Sex,3)] [ljust(Alias,5)][rjust(Idle,6)] [ljust(mid(Location,0,28),28,)] [ljust(dbref,6)]%R[u(v(db)/footer)][setq(1, iter(lwho(),switch(strmatch(name(##),%0*),0,,##)))][iter(sortby(v(db)/namesort,%q1),switch(and(hasflag(##,dark),not(isstaff(%#))),1,,%R[ljust(name(##),15,.)] [ljust(mid(u(##/sex),0,1),3)] [ljust(mid(u(##/alias),0,5),5)][rjust(mid(u(v(db)/secs2hrs,idle(##)),0,6),6)] [ljust(switch(and(or(hasflag(##,unfindable),hasflag(loc(##),unfindable)),not(or(hasflag(%#,wizard),hasflag(%#,immortal)))),1,,mid(name(room(##)),0,28)),28,.)] [ljust(switch(or(isstaff(%#),and(hasflag(loc(##),JUMP_OK),not(hasflag(##,UNFINDABLE)),not(hasflag(loc(##),UNFINDABLE)))),0,,mid(room(##),0,5)),6,.)][ljust(switch(1,ostaff(##),Staff),6)]))]%r[u(v(db)/footer)]%RThere are [words(sortby(v(db)/cansee,lwho()))] players connected%R[u(v(db)/footer)]
>732
$+register *=*=*:@swi/f [hasattr(%#,registration)]/[match(Player,type(%#))]/[gte(words(%0),2)]/[match(%1,*@*.*)]/[gte(words(%2),1)]=1/*/*/*/*,{@pemit %#=You may not re-register once you have set your registration. If you have made an error, please contact Staff to correct it.},0/0/*/*/*,{@pemit %#=Only Players may use this command.},0/1/1/1/1,{&REGISTRATION %#=%0|%1|%2|[time()]|+register;@pemit %#=You have completed registration.},0/1/*/*/*,{@pemit %#=You must provide a full RL name, both first and last, a valid email address, and at least one alt character or None to complete registration. Please see 'news registration', '+help +register' or a member of staff for further assistance.}
>733
$+register: @pemit %#=%R%R+register <RL Name>=<email>=<alts>%r%r%tAll players must be registered and read and accept the conditions found in 'news AUP' before they are allowed out of the Registration room. Unregistered character objects become subject to nuking at any time.%R%R
>734
$+scan *:@pemit %#=[setq(9,locate(%#,%0,*))][switch(1,strmatch(%q9,#-1),{I don't see that here.},strmatch(%q9,#-2),{I don't know which one you mean!},not(or(controls(%#,%q9),hasflag(%q9,VISUAL))),{[name(%q9)] is owned by [name(owner(%q9))]},{[u(v(db)/FN_SCAN,%q9)]})]
>736
$+shout *:@dol lexits(%l)={@select 0=[comp(%l,loc(##))],,[neq(get(##/no_shout),1)],,[not(and(hasflag(%l,AUDIBLE),hasflag(##,AUDIBLE)))],, {@remit [loc(##)]=[switch(get(%#/sex),m*,A man,f*,A woman,w*,A woman,Someone)] shouts from nearby, "%0"}}; @remit %l=%N shouts, "%0"
>737
$+staff:@pemit %#=[setq(0,setinter(lwho(),u(v(db)/staff-list)))][u(v(db)/header-staffcon)]%r[ljust(Name,14)][ljust(Alias,6,)][ljust(Position,35,)][ljust(Status,10,)][rjust(Idle,6,)]%r[u(v(db)/footer)][iter(get(v(DB)/staff-list),switch( and(hasflag(##,connected),not(hasflag(##,dark))),1,%r[setq(1,match(%q0,##))][ljust(name(##),14)][ljust(get(##/alias),6)][ljust(get(##/position),35)][ljust(switch(hasflag(##,transparent),1,off-duty,ON-DUTY),10)][rjust(u(v(db)/secs2hrs,idle(##)),6)]))]%r[u(v(db)/footer)]
>738
$+staff/all:@pemit %#=[setq(0,setinter(lwho(),u(v(db)/staff-list)))][u(v(db)/header-staff)]%r[ljust(Name,12)]%B[ljust(Alias,7,)][ljust(Position,34,)][ljust(Last,20)]%r[u(v(db)/footer)][iter(u(v(db)/staff-list),%r[setq(1,match(%q0,##))][ljust(name(##),12)]%B[ljust(get(##/alias),6)]%B[ljust(get(##/position),34)][ljust(switch(and(hasflag(##,connected),not(hasflag(##,dark))),1,Connected,get(##/last)),20)])]%r[u(v(db)/footer)]
>739
$+timestamp:@switch [words(lattr(%#/timestamp-*))]=0,{@pemit %#=You don't have any timestamps set on you.},{@pemit %#=Timestamps on you:%R[iter(lattr(%#/timestamp-*),%R##%B-%B[get(%#/##)])]}
>740
$uptime:@pemit %#=[mudname()] runtime stats:%r%tMUSH boot time.......: [starttime()]%r%tCurrent time.........: [time()]%r%tIn operation for.....: [div(sub(convtime(time()),convtime(starttime())),86400)] days, [div(mod(sub(convtime(time()),convtime(starttime())),86400),3600)] hours, [div(mod(sub(convtime(time()),convtime(starttime())),3600),60)] minutes, [mod(sub(convtime(time()),convtime(starttime())),60)] seconds.
>741
$+view:@pemit %#=[switch(words(lattr(loc(%#)/view-*)),0,There are no views set on your location.,The following views are set on your location:%R[iter(lattr(loc(%#)/view-*),%b%b[edit(lcstr(after(##,VIEW-)),~,%b)])])][setq(0,iter(lcon(loc(%#)),switch([gte(words(lattr(##/view-*)),1)]:[strmatch(type(##),PLAYER)][not(hasflag(##,connected))],1:10,##,1:0?,##)))][switch(words(%q0),0,,%RThe following objects have views set on them:%R[iter(%q0,%b%b[name(##)])])]
>742
$+view *:@swi/first [pos(/,%0)]:[setq(0,locate(%#,before(%0,/),*))]%q0=#-1:#-?,{@pemit %#=I can't find that here!},#-1:*,{@pemit %#=[switch(words(lattr(%q0/view-*)),0,There are no views set on that item.,The following views are set on that item:%R[iter(lattr(%q0/view-*),%b%b[edit(lcstr(after(##,VIEW-)),~,%b)])])]},{@verb %q0=%#,view-[setq(1,edit(after(%0,/),%b,~))]%q1,There is no such view on that item,oview-%q1,,aview-%q1}
<
!29
SGP - Wizard Globals
2
-1
-1
0
28

5
-1
1
306184193
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:10:58 2003
>227
Thu Jan 30 00:47:35 2003
>237
-1 -1 -1 -1
>279
#26
>653
1.0|Base 042501|Jan 30 2003
>654
Base Install 042501 [elements(time(),2 3 5)]
>6
This is the wizard globals object for SGP. These are global commands that only wizards will have access to.%R%R[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>743
[gte(bittype(%#),5)]
>62
ISWIZARD/1
>744
$+motd/set *=*:@pemit %#=[setq(0,[match(general wizard full down,%0)][setq(9,isstaff(%#))][r(9)])][setq(6,mid(r(0),0,1))][switch(r(0),?0,Permission denied.,0?,+Motd: ERROR - '[secure(%0)]' not a valid MOTD type.,1?,+Motd: General MOTD set.,2?,+Motd: Wizard MOTD set.,3?,+Motd: Full MOTD set.,4?,+Motd: Down MOTD set.)];&MOTD-[setq(1,extract(GEN_LIST WIZ_LIST FULL DOWN,r(6),1))][r(1)] [switch([r(9)][setq(3,gt(r(6),0))][r(3)],11,v(DB),#-1)]=[setunion(get([v(DB)]/MOTD-[r(1)]),secs())];&MOTD-[switch([setq(4,lt(r(6),3))][r(4)],1,[secs()],extract(X X FULL DOWN,r(6),1))] [switch([r(3)][r(9)],11,v(DB),#-1)]=[secure(%1)];@swi [r(0)]=11,{@motd [iter(get([v(DB)]/MOTD-GEN_LIST),%r[get([v(DB)]/MOTD-##)]%r)];@pemit/list lwho()=+Motd: [name(%#)] has set a new general MOTD.},21,{@motd/wizard [iter(get([v(DB)]/MOTD-WIZ_LIST),%r[get([v(DB)]/MOTD-##)]%r)]},31,{@motd/full %1},41,{@motd/down %1}
>745
$+motd/del *=*:@pemit %#=[setq(0,[match(general wizard full down,%0)][setq(9,isstaff(%#))][r(9)])][setq(6,mid(r(0),0,1))][switch(r(0),?0,Permission denied.,0?,+Motd: ERROR - '[secure(%0)]' not a valid MOTD type.,1?,+Motd: [setq(8,and(lte(%1,words(get([v(DB)]/motd-gen_list))),gt(%1,0)))][switch(r(8),0,Invalid general MOTD number,You remove MOTD #[add(0,%1)] from general)],2?,+Motd: [setq(8,and(lte(%1,words(get([v(DB)]/motd-wiz_list))),gt(%1,0)))][switch(r(8),0,Invalid wizard MOTD number,You remove MOTD #[add(0,%1)] from wizard)],3?,+Motd: You remove the full MOTD,4?,+Motd: You remove the down MOTD)];&MOTD-[setq(1,extract(GEN_LIST WIZ_LIST FULL DOWN,r(6),1))][r(1)] [switch([r(9)][setq(3,gt(r(6),0))][r(3)],11,v(DB),#-1)]=[setdiff(get([v(DB)]/MOTD-[r(1)]),[setq(7,extract(get([v(DB)]/MOTD-[r(1)]),%1,1))][r(7)])];&MOTD-[switch([setq(4,lt(r(6),3))][r(4)],1,[r(7)],extract(X X FULL DOWN,r(6),1))] [switch([r(3)][r(9)],11,v(DB),#-1)];@swi [r(0)]=11,{@motd [iter(get([v(DB)]/motd-gen_list),%r[get([v(DB)]/MOTD-##)]%r)]},21,{@motd/wizard [iter(get([v(DB)]/motd-wiz_list),%r[get([v(DB)]/MOTD-##)]%r)]},31,{@motd/full;@wipe [v(DB)]/MOTD-FULL},41,{@motd/down;@wipe [v(DB)]/MOTD-DOWN}
>746
$+motd/list:@pemit %#=[center(Currently Set MOTD,78,=)]%rGeneral:[iter(get([v(DB)]/motd-gen_list),%r[member(get([v(DB)]/motd-gen_list),##)]> [get([v(DB)]/motd-##)]%r)]%rWizard:[iter(get([v(DB)]/motd-wiz_list),%r[member(get([v(DB)]/motd-wiz_list),##)]> [get([v(DB)]/motd-##)]%r)]%rFull:%r[get([v(DB)]/motd-full)]%r%rDown:%r[get([v(DB)]/motd-down)]%r[u(v(db)/footer)]
>747
$+motd/reset:@motd [iter(get([v(DB)]/motd-gen_list),%r[get([v(DB)]/MOTD-##)]%r)];@motd/wizard [iter(get([v(DB)]/motd-wiz_list),%r[get([v(DB)]/MOTD-##)]%r)];@motd/down [get([v(DB)]/motd-down)];@motd/full [get([v(DB)]/motd-full)]
>748
$+motd/clear *:@swi/first [match(general wizard full down all,%0)][isstaff(%#)]=?0,{@pemit %#=Permission denied.},0?,{@pemit %#=+Motd: ERROR - Invalid MOTD type},1?,{@pemit %#=+Motd: You have cleared the general MOTD;@dolist [get([v(DB)]/motd-gen_list)]=@wipe [v(DB)]/MOTD-##;@wipe [v(DB)]/motd-gen_list;@motd},2?,{@pemit %#=+Motd: You have cleared the wizard MOTD;@dolist [get([v(DB)]/motd-wiz_list)]=@wipe [v(DB)]/MOTD-##;@wipe [v(DB)]/motd-wiz_list;@motd/wizard},3?,{@pemit %#=+Motd: You have cleared the full MOTD;@wipe [v(DB)]/motd-full;@motd/full},4?,{@pemit %#=+Motd: You have cleared the down MOTD;@wipe [v(DB)]/motd-down;@motd/down},5?,{@pemit %#=+Motd: You have cleared ALL of the MOTD's.;@motd;@motd/full;@motd/down;@motd/wizard}
>749
$+staff/add *:[setq(0,switch(isdbref(%0),1,%0,num(*%0)))];@switch/first 1=not(strmatch(type(%q0),PLAYER)),{@pemit %#=%0 is not a player!},match(get(v(db)/STAFF-LIST),%q0),{@pemit %#=That player is already listed in +staff.},{@wait 0=&STAFF-LIST [v(db)]=[get(v(db)/STAFF-LIST)]%B%q0;@pemit %#=You have added [name(%q0)] to the +staff listing.}
>750
$+staff/remove *:[setq(0,switch(isdbref(%0),1,%0,num(*%0)))];@switch/first 1=not(strmatch(type(%q0),PLAYER)),{@pemit %#=%0 is not a player!},not(match(get(v(db)/STAFF-LIST),%q0)),{@pemit %#=That player is not listed in +staff.},{&STAFF-LIST [v(db)]=remove(get(v(db)/STAFF-LIST),%q0);@pemit %#=You have removed [name(%q0)] from the +staff listing.}
>751
$+timestamp */*=*:;@switch hasflag(%#,wizard)[isdbref(num(*%0))]=0*,{@pemit %#=Huh?%B%B(Type "help" for help.)},10,{@pemit %#=You can only set timestamps on players.},{&timestamp-%1 *%0=Set by [name(%#)] on [time()]. %2;@lock *%0/timestamp-%1;@pemit %#=You have set the following timestamp on [name(*%0)]:%B%B[get(*%0/timestamp-%1)]}
>752
$+timestamp/read *:@switch isstaff(%#)[isdbref(num(*%0))][words(lattr(*%0/timestamp*))]=0*,{@pemit %#=Huh?%B%B(Type "help" for help.)},10*,{@pemit %#=That is not a player.},110,{@pemit %#=[name(*%0)] has no timestamps.},{@pemit %#=center(name(*%0),78,=)[iter(lattr(*%0/timestamp-*),%R##%B-%B[get(*%0/##)])]}
>753
$+timestamp/rem */*:;@switch hasflag(%#,wizard)[isdbref(num(*%0))]=0*,{@pemit %#=Huh?%B%B(Type "help" for help.)},10,{@pemit %#=You can only set timestamps on players.},{@unlock *%0/timestamp-%1;@pemit %#=You have removed the following timestamp on [name(*%0)]:%B%B[get(*%0/timestamp-%1)];&timestamp-%1 *%0}
>754
$+timestamp/showall:@dolist search(type=players)=@switch gt(words(lattr(##/timestamp*)),0)=1,@force %#=+timestamp/read [name(##)]
>755
$+version:@pemit %#=[ljust(===< Version Status for SGP >===,78,=)]%RObject[space(22)]Version[space(3)]dbref%BPatch[space(9)]Last Update%R[repeat(-,78)][iter(get(v(db)/SGP-OBJECTS),%R[mid(ljust(name(##),28),0,29)][mid(ljust(extract(get(##/SGP-VERSION),1,1,|),10),0,11)][ljust(##,6)][mid(ljust(extract(get(##/SGP-VERSION),2,1,|),14),0,15)][ljust(extract(get(##/SGP-VERSION),3,1,|),20)],|)%R][repeat(=,78)]
>756
$+version *:@switch match(get(v(db)/SGP-OBJECTS),%0,|)=0,{@pemit %#=That is not an object tracked by +version.},{@pemit %#=[ljust(===< Version Status for SGP >===,78,=)]%RObject[space(22)]Version[space(3)]dbref%BPatch[space(9)]Last Update%R[repeat(-,78)]%R[mid(ljust(name(%0),28),0,29)][mid(ljust(extract(get(%0/SGP-VERSION),1,1,|),10),0,11)][ljust(%0,6)][mid(ljust(extract(get(%0/SGP-VERSION),2,1,|),14),0,15)][ljust(extract(get(%0/SGP-VERSION),3,1,|),20)]%R[ljust(---< Object History >---,78,-)]%R[get(%0/UPDATE-HISTORY)]%R[repeat(=,78)]}
>757
$+version/add *:@switch match(get(v(db)/SGP-OBJECTS),%0,|)=1,{@pemit %#=That object is already listed in +version.},{@edit v(db)/SGP-OBJECTS=$,|%0;&SGP-VERSION %0=1.0|Base|[elements(time(),2 3 5)];&UPDATE-HISTORY %0=Base [elements(time(),2 3 5)];@pemit %#=You have added [name(%0)] to the +version listing.}
>758
$+version/remove *:@switch match(get(v(db)/SGP-OBJECTS),%0,|)=0,{@pemit %#=That object is not listed in +version.},{&SGP-OBJECTS [v(db)]=remove(get(v(db)/SGP-OBJECTS),%0,|);&SGP-VERSION %0;&UPDATE-HISTORY %0;@pemit %#=You have removed [name(%0)] from the +version listing.}
>759
$+version/update */*=*:@switch/first 0=match(get(v(db)/SGP-OBJECTS),%0,|),{@pemit %#=That object is not listed in +version.},setr(0,match(version patchlevel history,%1)),{@pemit %#=Invalid field. Valid entries are version, patchlevel history.},{&SGP-VERSION %0=setr(1,replace(extract(get(%0/SGP-VERSION),1,2,|),%q0,edit(%2,|,),|)|[extract(time(),2,2)] [last(time())]);&UPDATE-HISTORY %0=get(%0/UPDATE-HISTORY)|[edit(extract(%q1,3,1,|),|,%b)] [switch(%q0,3,edit(%2,|,))];@pemit %#=You have updated [name(%0)]'s [extract(version patchlevel history,%q0,1)] field to '%2'.}
>19
+motd/reset
<
!30
SGP - Staff Globals
2
-1
-1
0
29

5
-1
1
301989889
0
8192
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:10:59 2003
>227
Thu Jan 30 00:16:47 2003
>237
-1 -1 -1 -1
>279
#26
>653
1.0|Base 121600|Jan 30 2003
>654
Base Install 121600 [elements(time(),2 3 5)]
>6
This is the staff globals object for SGP. These are global commands that only staff, as defined in the isstaff() on the global functions object, will have access to. You may substitute ostaff() for isstaff() in the lock setting.%R%R[iter(setdiff(lattr(me),Desc),ljust(##,18))]
>760
[isstaff(%#)]
>761
$+commands *:@pemit %#=switch(setq(0,locate(%#,%0,*))%q0,#-*,Cant find that object.,name(%q0) (%q0) has the following command attributes:[iter(lattr(%q0), switch(strmatch(setq(1,get(%q0/##))%q1,$*),1,%r%t##: [mid(%q1,1,sub(pos(:,%q1),2))]))])
>762
$+contents *:@pemit %#=switch(setq(0,locate(%#,%0,*))%q0,#-*,Cant find that.,switch(words(lcon(%q0)),0,name(%q0) (%q0) contains nothing,name(%q0) (%q0) contains:[iter(lcon(%q0),%r%t[name(##)] (##))]))
>763
$+duty:@switch [hasflag(%#,transparent)]=1,{@set %#=!transparent;@pemit %#=Done. You are now on duty.},{@set %#=transparent;@pemit %#=Done. You are now off duty.}
>764
$+join *:@switch locate(me,*%0,p)=#-*,{@pemit %#=Sorry, %0 is not a valid player name.},{&join-from %#=loc(%#); @tel %#=loc(*%0)}
>765
$+deleteproject *: @switch hasattr(v(db),setq(0,list-[edit(%0,%B,_)])%q0)=0, @pemit %#=No project '%0' listed., {&%q0 [v(db)]; @pemit %#=Project '%0' deleted.}
>766
$+editproject */*=*: @switch hasattr(v(db),setq(0,list-[edit(%0,%B,_)])%q0)=0, @pemit %#=No project '%0' listed., {@switch %1=who, {&%q0 [v(db)]=replace(get(v(db)/%q0),2,%2,|); @pemit %#=Who set to '%2'.},status, {&%q0 [v(db)]=replace(get(v(db)/%q0),3,%2,|); @pemit %#=Status set to '%2'.},@pemit %#=Field should be /who or /status.}
>767
$+setproject */*/*:@switch hasattr(v(db),setq(0,list-[edit(secure(%0),%B,_)])%q0)=1, @pemit %#=Project '%0' already exists., {&%q0 [v(db)]=secure(%0)|%1|%2; @pemit %#=Entry for '%0' created.}
>769
$+viewprojects: @pemit %#=repeat(=,78)%R[ljust(Project,25)] [ljust(Coder,20)] [ljust(STATUS,26)]%R[repeat(=,78)]; @dolist lattr(v(db)/list-*)=@pemit %#=ljust(extract(get(v(db)/##),1,1,|),25) [ljust(extract(get(v(db)/##),2,1,|),20)] [ljust(extract(get(v(db)/##),3,1,|),26)];@wait 1=@pemit %#=repeat(=,78)%r
>770
$+trackerhelp:@pemit %#=[repeat(=,78)]%R[center(Project Tracker Help,78, )]%R%T+setproject <project name>/<coder name>/<status>%R%T+viewprojects%R%T+editproject <project name>/who=<coder name>%R%T+editproject <project name>/status=<status>%R%T+deleteproject <project name>%R%T+trackerhelp -- Gets this screen.%R%RThe project name, and the other fields, can have spaces in them.%R%Rby BEM@Granite%R[repeat(=,78)]
>771
$+register *=*=*=*:@switch/first [setq(0,findpc(%#,%0))][r(0)]/[hasattr(%q0,REGISTRATION)]=#-1/*,{@pemit %#=Cannot find %0.},#-2/*,{@pemit %#=Which %0?},*/0,{&REGISTRATION %q0=%1|%2|%3|[time()]|%#;@pemit %#=You have registered [name(%q0)]: Character [name(%q0)] played by [extract(get(%q0/REGISTRATION),1,1,|)] with email address [extract(get(%q0/REGISTRATION),2,1,|)] and alts [extract(get(%q0/REGISTRATION),3,1,|)] as registered on [extract(get(%q0/REGISTRATION),4,1,|)] by [extract(get(%q0/REGISTRATION),5,1,|)].},*/1,{@pemit %#=[name(%q0)] has already been registered: Character [name(%q0)] played by [extract(get(%q0/REGISTRATION),1,1,|)] with email address [extract(get(%q0/REGISTRATION),2,1,|)] and alts [extract(get(%q0/REGISTRATION),3,1,|)] was registered on [extract(get(%q0/REGISTRATION),4,1,|)] by [extract(get(%q0/REGISTRATION),5,1,|)].%r%rIf there is an error with the registration, please +mail Staff for correction.}
>772
$+register: @pemit %#=%R%R+register <character>=<RL name>=<email>=<alts>%r%rThe RL name must be their FULL name, first and last. Alts can be none.%R%R
>773
$+rjoin:@switch setq(0,get(%#/join-from))%q0=,{@pemit %#=Sorry, you don't have a return destination.},{@tel %#=%q0; &join-from %#}
>774
$+rsummon *:@switch locate(me,*%0,p)=#-*,{@pemit %#=Sorry, %0 is not a valid player name.},{@switch setq(0,get(*%0/summon))%q0=,@pemit %#=name(%0) doesn't have a return location,{@oemit *%0=JUDGE: %N sends [name(*%0)] back to [poss(*%0)] former location.;@pemit *%0=JUDGE: %N sends you back to your former location.;@tel *%0=%q0;&summon *%0;@oemit *%0=JUDGE: %N returns [name(*%0)].;&summon *%0.}}
>775
$+summon *:@switch locate(me,*%0,p)=#-*,{@pemit %#=Sorry, %0 is not a valid player name.},{&summon *%0=loc(*%0);@oemit *%0=JUDGE: %N summons [name(*%0)] away.;@pemit *%0=JUDGE: %N summons you away.;@remit %#=%N summons [name(*%0)].;@tel *%0=loc(%#)}
>62
CAN_USE/1
<
!31
Places_global_object
2
32
-1
0
30

5
32
1
306184193
0
8192
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:26:06 2003
>227
Thu Jan 30 00:28:48 2003
>237
-1 -1 -1 -1
>6
The Places Code. Tables, rugs, beds, ladders, etc.
>776
#32
>653
SGP-Y2K|Base|Jan 30 2003
>654
Y2K
>777
$configure * places: @switch/first [controls(%#,%l)]:[isnum(%0)]:%0=0:*:*, {@pemit %#=You do not control [name(%l)].},*:0:*, {@pemit %#=The number of places needs to be a number!},*:*:0, {@dolist rest(lnum(add(get(%l/PLACESMAX),1)))={@unlock %l/PLACE##;&PLACE## %l};@unlock %l/PLACESCLEANUP1;@unlock %l/PLACESCLEANUP2;@unlock %l/PLACESMAX;&PLACESCLEANUP1 %l;&PLACESCLEANUP2 %l;&PLACESMAX %l;@set %l=!MONITOR;@pemit %#=Places removed from [name(%l)].},{&PLACESMAX %l=%0;@dolist rest(lnum(add(%0,1)))={@unlock %l/PLACE##;&PLACE## %l=ulocal(SETUP_FN,##,add(rand(9),1))};@unlock %l/PLACESCLEANUP1;@unlock %l/PLACESCLEANUP2;@unlock %l/PLACESMAX;@set %l=MONITOR;&PLACESCLEANUP1 %l=v(PLACESCLEANUP1);&PLACESCLEANUP2 %l=v(PLACESCLEANUP2);&PLACENUMS %l=[repeat(|,%0)];@pemit %#=Configuration for %0 places complete.}
>778
$configure spy* *: @switch/first [controls(%#,%l)]:[ucstr(%1)]=0:*, {@pemit %#=You do not control [name(%l)].},*:Yes, {@pemit %#=Setting this room to allow Spying. ;&SPYOK %L=Yes ;},*:No, {@pemit %#=Setting this room to disallow Spying. Please include a reason why it should not work in a note on the room. ;&SPYOK %L=No ;},{@pemit %#=The valid commands are:%r%tconfigure spying Yes%r%tconfigure spying No%rPlease use one of those.}
>779
Table %0|%1|[add(rand(%1),1)]||I'm sorry, there's no room to add a place there.|I'm sorry, there's on place to move there.|You sit down at|sits down at|You stand and leave|stands and leaves|At your table|A table with 4 legs and some chairs around it.
>780
$update */*=*: @switch/first [controls(%#,%l)]:[and(isnum(%0),lte(%0,get(%l/PLACESMAX)))]:[member(NAME MAXPLACES CURPLACES FIXED FULL EMPTY JOIN OJOIN DEPART ODEPART PREFIX DESCRIBE,ucstr(%1))]=0:*:*, {@pemit %#=Permission denied.},*:0:*, {@pemit %#=I'm sorry, but '%0' isn't a valid place number.},*:*:0, {@pemit %#=I'm sorry, but '%1' isn't a valid configuration option.},{@unlock %l/PLACE%0;&PLACE%0 %l=ulocal(UPDATEINFO,%l,%0,%1,%2);@pemit %#=The %1 for [ulocal(GETINFO,%l,%0,NAME)] is now set to:%r[space(5)][ulocal(GETINFO,%l,%0,%1)]}
>781
$mv from * to *: @switch/first 0=and(gt(%0,0),lte(%0,get(%l/PLACESMAX))), {@pemit %#='%0' is not a valid place number.},and(gt(%1,0),lte(%1,get(%l/PLACESMAX))), {@pemit %#='%1' is not a vaild place number.},not(words(ulocal(GETINFO,%l,%0,FIXED))), {@pemit %#=ulocal(GETINFO,%l,%0,FIXED)},not(words(ulocal(GETINFO,%l,%1,FIXED))), {@pemit %#=ulocal(GETINFO,%l,%1,FIXED)},sub(ulocal(GETINFO,%l,%0,CURPLACES),words(extract(get(%l/PLACENUMS),%0,1,|))), {@pemit %#=ulocal(GETINFO,%l,%0,EMPTY)},neq(ulocal(GETINFO,%l,%1,CURPLACES),ulocal(GETINFO,%l,%1,MAXPLACES)), {@pemit %#=ulocal(GETINFO,%l,%1,FULL)},{@unlock %l/PLACE%0;@unlock %l/PLACE%1;&PLACE%0 %l=ulocal(UPDATEINFO,%l,%0,CURPLACES,sub(ulocal(GETINFO,%l,%0,CURPLACES),1));&PLACE%1 %l=ulocal(UPDATEINFO,%l,%1,CURPLACES,add(ulocal(GETINFO,%l,%1,CURPLACES),1));@pemit %#=You move a place from [ulocal(GETINFO,%l,%0,NAME)] to [ulocal(GETINFO,%l,%1,NAME)].}
>782
^* has left.:placescleanup(%#)
>783
^* has disconnected.:placescleanup(%#)
>784
$placescleanup(*):@switch [setq(0, U(WHICHPLACE, %#, %0))][r(0)]=>0, {&PLACENUMS %#=[replace(get(%#/PLACENUMS), r(0), remove(extract(get(%#/PLACENUMS), r(0), 1, |), %0), |)]}
>785
$join *: @switch/first [not(ulocal(WHICHPLACE,%l,%#))] [lcstr(%0)]=0 *, {@pemit %#=Don't you think you should 'depart' first?},1 at #*, {@trig me/PLACEFUNCTION=%l,%#,[delete(rest(%0),0,1)]},1 at *, {@trig me/PLACEFUNCTION=%l,%#,[rest(%0)]},1 #*, {@trig me/PLACEFUNCTION=%l,%#,[delete(%0,0,1)]},1 with *, {@pemit[setq(1,locate(%#,rest(%0),niPT))][setq(0,ulocal(WHICHPLACE,%l,r(1)))]%#=switch(r(0),0,There isn't anyone named '[capstr(rest(%0))]' at a special place.,You go over to join [name(r(1))].);@trig me/[switch(r(0),0,-,PLACEFUNCTION)]=%l,%#,[r(0)]},{@switch [isnum(%0)][setq(1,locate(%#,%0,niPT))][setq(0,ulocal(WHICHPLACE,%l,r(1)))]=1,{@trig me/PLACEFUNCTION=%l,%#,%0 ;},{@pemit %#=switch(r(0),0,There isn't anyone named '[capstr(rest(%0))]' at a special place.,You go over to join [name(r(1))].);@trig me/[switch(r(0),0,-,PLACEFUNCTION)]=%l,%#,[r(0)]}}
>786
$sit *: @switch/first [not(ulocal(WHICHPLACE,%l,%#))] [lcstr(%0)]=0 *, {@pemit %#=Don't you think you should 'depart' first?},1 at #*, {@trig me/PLACEFUNCTION=%l,%#,[delete(rest(%0),0,1)]},1 at *, {@trig me/PLACEFUNCTION=%l,%#,[rest(%0)]},1 #*, {@trig me/PLACEFUNCTION=%l,%#,[delete(%0,0,1)]},1 with *, {@pemit[setq(1,locate(%#,rest(%0),niPT))][setq(0,ulocal(WHICHPLACE,%l,r(1)))]%#=switch(r(0),0,There isn't anyone named '[capstr(rest(%0))]' at a special place.,You go over to join [name(r(1))].);@trig me/[switch(r(0),0,-,PLACEFUNCTION)]=%l,%#,[r(0)]},{@switch [isnum(%0)][setq(1,locate(%#,%0,niPT))][setq(0,ulocal(WHICHPLACE,%l,r(1)))]=1,{@trig me/PLACEFUNCTION=%l,%#,%0},{@pemit %#=switch(r(0),0,There isn't anyone named '[capstr(rest(%0))]' at a special place.,You go over to join [name(r(1))].);@trig me/[switch(r(0),0,-,PLACEFUNCTION)]=%l,%#,[r(0)]}}
>787
@switch/first 0=[lte(%2, get(%0/PLACESMAX))], @pemit %1=Invalid Place Number '%2'.,[setq(1, extract(get(%0/PLACENUMS), %2, 1, |))][gt(ulocal(GETINFO, %0, %2, CURPLACES), words(r(1)))], {@pemit %1=There aren't any free spaces there.},{@verb %1=[setq(0,ulocal(getinfo,%0,%2,NAME))]%1,eval_msg,[edit([U(GETINFO, %0, %2, JOIN)] [r(0)].,%,,%%%,)],oeval_mesg,[edit([U(GETINFO, %0, %2, OJOIN)] [r(0)].,%,,%%%,)];@pemit/list [r(1)]= [name(%1)] joins you. ;&PLACENUMS %0=[replace(get(%0/PLACENUMS), %2, [r(1)]%1%b, |)]}
>788
$depart:@switch [setq(1, U(WHICHPLACE, %l, %#))][setq(0,U(GETINFO,%l,r(1),NAME))][r(1)]=0, {@pemit %#=You aren't placed anywhere.},{&PLACENUMS %l=[replace(get(%l/PLACENUMS), r(1), [remove(extract(get(%l/PLACENUMS), r(1), 1, |), %#)], |)];@pemit/list [extract(get(%l/PLACENUMS), r(1), 1, |)]=%N has departed.;@pemit %#=[edit([U(GETINFO, %l, r(1), DEPART)] [r(0)].,%,,%%%,)];@pemit/list [ldelete(lcon(%L),match(lcon(%L),%#))]=%N [edit([U(GETINFO, %l, r(1), ODEPART)] [r(0)].,%,,%%%,)]}
>789
$stand:@switch [setq(1, U(WHICHPLACE, %l, %#))][setq(0,U(GETINFO,%l,r(1),NAME))][r(1)]=0, {@pemit %#=You aren't placed anywhere.},{&PLACENUMS %l=[replace(get(%l/PLACENUMS), r(1), [remove(extract(get(%l/PLACENUMS), r(1), 1, |), %#)], |)];@pemit/list [extract(get(%l/PLACENUMS), r(1), 1, |)]=%N has departed.;@pemit %#=[edit([U(GETINFO, %l, r(1), DEPART)] [r(0)].,%,,%%%,)];@pemit/list [ldelete(lcon(%L),match(lcon(%L),%#))]=%N [edit([U(GETINFO, %l, r(1), ODEPART)] [r(0)].,%,,%%%,)]}
>790
$places: @pemit %#=switch(get(%l/PLACESMAX),,There are no special places here.,0,There are no special places here.,map(PLACES_FN,rest(lnum(add(get(%l/PLACESMAX),1)))))
>791
$place *: @pemit %#=switch(get(%l/PLACESMAX),,There are no special places here.,0,There are no special places here.,map(PLACES_FN,edit(%0,#,)))
>792
%r[setq(0,ulocal(GETINFO,%l,%0,CURPLACES))][setq(1,extract(get(%l/PLACENUMS),%0,1,|))][capstr(ulocal(GETINFO,%l,%0,NAME))] (#%0) has [setq(2,sub(r(0),words(r(1))))][switch(r(2),0,no empty places,1,1 empty place,[r(2)] empty places)].[switch(words(r(1)),0,,1,%r%tPresent is: %b[name(edit(r(1),%b,))].,%r%tPresent are: %b[ulocal(PLACE_LOOK,r(1))])]
>793
[setq(9,words(%0))][switch(r(9),0,,1,name(%0),2, [name(first(%0))] and [name(rest(%0))],[iter(extract(%0,1,sub(r(9),1)),{name(##),})] and [name(extract(%0,r(9),1))])]
>794
$plook: @pemit %#=[setq(0,edit(get(%l/PLACENUMS),|,))][fold(PLOOK_FOLD_FN,rest(lnum(add(get(%l/PLACESMAX),1))),-----)]%rNo place [space(3)] [setq(3,setdiff(setinter(lcon(%l),lwho()),r(0)))][rjust([words(r(3))] at no places,15)] [space(3)] [setq(4,sort(iter(r(3),name(##))))][ljust(mid(extract(r(4),1,1),0,14),14)] [ljust(mid(extract(r(4),2,1),0,14),14)] [ljust(mid(extract(r(4),3,1),0,14),14)][switch(gt(words(r(4)),3),1,ulocal(NAME_3COL_FN,extract(r(4),4,3999)))]%r-----
>795
%0%r[setq(1,extract(get(%l/PLACENUMS),%1,1,|))]Place #[ljust(%1,5)] [rjust([sub(ulocal(GETINFO,%l,%1,CURPLACES),words(r(1)))] empty places,15)] [space(3)] [setq(2,sort(iter(r(1),name(##))))][ljust(mid(extract(r(2),1,1),0,14),14)] [ljust(mid(extract(r(2),2,1),0,14),14)] [ljust(mid(extract(r(2),3,1),0,14),14)][switch(gt(words(r(2)),3),1,ulocal(NAME_3COL_FN,extract(r(2),4,3999)))]
>796
[fold(NAME_3AUX_FN,rest(%0),%r[space(33)][ljust(mid(first(%0),0,14),15)])]
>797
%0[switch(mod(words(%0),4),0,%r[space(33)][ljust(mid(%1,0,14),15)],[ljust(mid(%1,0,14),15)])]
>798
$plook *:@pemit %#=switch(get(%l/PLACESMAX),,There are no special places here.,0,There are no special places here.,%r[capstr(ulocal(GETINFO,%l,%0,NAME))]:%r[ulocal(GETINFO,%l,edit(%0,#,),DESCRIPTION)])
>799
$tt *:@pemit/list [setq(0,ulocal(WHICHPLACE,%l,%#))][switch(r(0),0,%#[setq(1,You'll need to join a place first.)],[extract(get(%l/PLACENUMS),r(0),1,|)][setq(1,\{[ulocal(GETINFO,%l,r(0),PREFIX)], [switch(%0,:*,%N [delete(%0,0,1)],;*,%N[delete(%0,0,1)],"*,%N says "[delete(%0,0,1)]",|*,delete(%0,0,1),%N says "%0")]\})])]=r(1);@pemit/list [iter(lcon(%l),switch(strmatch([get(##/SPYING)],%l [r(0)]),1,##))]=(Overheard) [r(1)]
>800
$ttooc *:@pemit/list [setq(0,ulocal(WHICHPLACE,%l,%#))][switch(r(0),0,%#[setq(1,You'll need to join a place first.)],[extract(get(%l/PLACENUMS),r(0),1,|)][setq(1,<OOC> [ulocal(GETINFO,%l,r(0),PREFIX)]%, [switch(%0,:*,%N [delete(%0,0,1)],;*,%N[delete(%0,0,1)],"*,%N says "[delete(%0,0,1)]",|*,delete(%0,0,1),%N says "%0")])])]=r(1);@pemit/list [iter(lcon(%l),switch(strmatch([get(##/SPYING)],%l [r(0)]),1,##))]=(Overheard) [r(1)]
>801
[match(get(%0/PLACENUMS), *%1%b*, |)]
>802
[extract(get(%0/PLACE%1),match(NAME MAXPLACES CURPLACES FIXED FULL EMPTY JOIN OJOIN DEPART ODEPART PREFIX DESCRIPTION,%2),1,|)]
>803
[replace(get(%0/PLACE%1),match(NAME MAXPLACES CURPLACES FIXED FULL EMPTY JOIN OJOIN DEPART ODEPART PREFIX DESCRIBE,%2),%3,|)]
>804
[extract(get(%0/PLACENUMS), %1, 1, |)]
>807
[switch(or(controls(%#,%0),match(rloc(%l,100),rloc(%0,100))),1,extract(get(%0/PLACENUMS), %1, 1, |),PERMISSION DENIED)]
>808
[switch(or(controls(%#,%0),match(rloc(%l,100),rloc(%0,100))),1,extract(get(%0/PLACE%1),match(NAME MAXPLACES CURPLACES FIXED FULL EMPTY JOIN OJOIN DEPART ODEPART PREFIX,%2),1,|),PERMISSION DENIED)]
>809
[switch(or(controls(%#,%0),match(rloc(%l,100),rloc(%0,100))),1,match(get(%0/PLACENUMS), *%1%b*, |),PERMISSION DENIED)]
>810
$mutter *=*: @remit [setq(0,locate(%#,%0,nimP))][switch(r(0),#-1,XX,#-2,XX,%l)]={[switch(%1,:* "*"*,{%N [first(delete(%1,0,1),")]%S mutters to [setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},:*,{%N mutters to [switch(r(0),%#,%oself,name(r(0)))].},;* "*"*,{%N[first(delete(%1,0,1),")]%S mutters to [setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},;*,{%N mutters to [switch(r(0),%#,%oself,name(r(0)))].},{[setq(1,ulocal(MUTTER_FN,%1))]%N mutters to [switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})]})]};@pemit %#[setq(2,edit(edit(%1,<,),>,))]=switch(r(0),#-1,I don't see that here.,#-2,I'm not sure which %0 you mean.,ulocal(MUTTER_FROM_FN,%#,r(0),r(2)));@pemit [switch(r(0),%#,XX,r(0))]=ulocal(MUTTER_TO_FN,%#,r(0),r(2))
>811
$mutter/place *=*: @switch and(gte(%0,1),lte(%0,get(%l/PLACESMAX)))=0, {@pemit %#=There is no such place here.},{@remit %l={[switch(%1,:* "*"*,{%N [first(delete(%1,0,1),")]%S mutters to [PlaceInfo(%l,%0,NAME)][setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},:*,{%N mutters to [PlaceInfo(%l,%0,NAME)],},;* "*"*,{%N[first(delete(%1,0,1),")]%S mutters to [PlaceInfo(%l,%0,NAME)][setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},;*,{%N mutters to [PlaceInfo(%l,%0,NAME)]},{[setq(1,ulocal(MUTTER_FN,%1))]%N mutters to [PlaceInfo(%l,%0,NAME)][switch(r(1),....,.,{, "[r(1)]"})]})]};@pemit/list [setq(2,edit(edit(%1,<,),>,))][setq(3,{[PlaceInfo(%l,%0,PREFIX)], [switch(r(2),:*,%N [delete(r(2),0,1)],;*,%N[delete(r(2),0,1)],%N says "[r(2)]")]})][setunion(AtPlace(%l,%0),%#)]=r(3)}
>812
$mutter/tt *=*: @switch/first [setq(0,locate(%#,%0,nimP))][r(0)] [setq(9,WhichPlace(%l,%#))][switch(r(9),0,setq(9,WhichPlace(%l,r(0))))][r(9)]=#-1 *, {@pemit %#=I don't see that here.},#-2 *, {@pemit %#=I'm not sure which %0 you mean.},* 0, {@pemit %#=Neither you nor [name(r(0))] is at a special place.},{@pemit/list [setq(8,{[PlaceInfo(%l,r(9),PREFIX)], [switch(%1,:* "*"*,{%N [first(delete(%1,0,1),")]%S mutters to [setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},:*,{%N mutters to [switch(r(0),%#,%oself,name(r(0)))].},;* "*"*,{%N[first(delete(%1,0,1),")]%S mutters to [setq(1,ulocal(MUTTER_FN,extract(%1,2,1,")))][switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})] [rest(rest(%1,"),")]},;*,{%N mutters to [switch(r(0),%#,%oself,name(r(0)))].},{[setq(1,ulocal(MUTTER_FN,%1))]%N mutters to [switch(r(0),%#,%oself,name(r(0)))][switch(r(1),...,.,{, "[r(1)]"})]})]})][setunion(AtPlace(%l,r(9)),%# [r(0)])]=r(8);@pemit/list [iter(lcon(%l),switch(strmatch([get(##/SPYING)],%l [r(0)]),1,##))]=(Overheard) [r(8)]@pemit %#=[setq(2,edit(edit(%1,<,),>,))][ulocal(MUTTER_FROM_FN,%#,r(0),r(2))];@pemit r(0)=ulocal(MUTTER_TO_FN,%#,r(0),r(2))}
>813
$+spy *:@switch/first [member(get([parent(me)]/CANSPY),%#)]:[words(get(%l/PLACESMAX))]:[and(gte(%0,0),lte(%0,get(%l/PLACESMAX)))]:[member(get(%L/SPYOK),Yes)]=0:*:*:*,{@pemit %#=You can't do that.},*:0:*:*,{@pemit %#=There aren't any special places here.},*:*:0:*,{@pemit %#=Invalid place number: '%0'.},*:*:*:0,{@pemit %#=Spying can not be used in this room.},{@switch %0=0,{@unlock %#/SPYING;&SPYING %#;@Pemit %#=You cease listening to that place.},{@unlock %#/SPYING;&SPYING %#=%L %0;@lock %#/SPYING=me;@Pemit %#=You listen in on a nearby conversation.}}
>814
$+spy/who:@switch isstaff(%#)=0,{@pemit %#=You're not authorized to do that.},{@pemit %#=[repeat(*,78)]%RCharacters currently possessing +spy capability:%R%R[iter(get([parent(me)]/CANSPY),switch(mod(member(get([parent(me)]/CANSPY),##),4),0,%R[ljust(name(##),15)],[ljust(name(##),15)]))]%R%R[repeat(*,78)]}
>815
$+spy/add *:@switch orflags(%#,W)=0,{@pemit %#=You're not authorized to do that.},{@switch member(get([parent(me)]/CANSPY),num(*%0))=0,{&CANSPY [parent(me)]=cat(get([parent(me)]/CANSPY),num(*%0));@pemit %#=[name(num(*%0))] has been cleared for spying.},{@pemit %#=That person is already cleared for spying.}}
>816
$+spy/remove *:@switch orflags(%#,W)=0,{@pemit %#=You're not authorized to do that.},{@switch member(get([parent(me)]/CANSPY),num(*%0))=0,{@pemit %#=That person is not in the Master Spy List.},{&CANSPY [parent(me)]=remove(get([parent(me)]/CANSPY),num(*%0));@pemit %#=[name(num(*%0))] is removed from the Master Spy List.}}
>19
@dolist lattr(me/FUNC_*)=@function/privileged after(##,FUNC_)=me/##
<
!32
Places_function_object
31
-1
-1
0
-1

5
-1
1
268435457
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:26:07 2003
>227
Thu Jan 30 00:28:37 2003
>237
-1 -1 -1 -1
>653
SGP-Y2K|Base|Jan 30 2003
>654
Y2K
>6
This evaluator can be used with @verb to send literal messages with correct substitutions. To use it, go @verb [num(me)]=<actor>,eval_msg,,oeval_msg,,%{<msg>,<omsg>%}%rExtra arguments may be passed via setq(), and recovered in msg, omsg via %[r(X)%].
>805
[s(%0)]
>806
[s(%1)]
>817
[edit(ulocal(DOTS_FN,ulocal(SELECT_WORDS_FN,%0)),%b...,...)]
>818
[switch(%2,:*,{You sense [name(%0)] [delete(%2,0,1)]},;*,{You sense [name(%0)][delete(%2,0,1)]},{[name(%0)] whispers "%2"})]
>819
[switch(%0,%1,switch(%2,:*,{You sense "[name(%0)] [delete(%2,0,1)]"},;*,{You sense "[name(%0)][delete(%2,0,1)]"},{You mutter to yourself, "%2"}),switch(%2,:*,{[name(%1)] senses "[name(%0)] [delete(%2,0,1)]"},;*,{[name(%1)] senses "[name(%0)][delete(%2,0,1)]"},{You whisper "%2" to [name(%1)].}))]
>820
[switch(%0,*... ...*,ulocal(DOTS_FN,edit(%0,... ...,...)),%0)]
>821
[switch(%0,*<*>*,[map(KILL_WORDS_FN,before(%0,<))] [before(after(%0,<),>)] [ulocal(SELECT_WORDS_FN,after(%0,>))],map(KILL_WORDS_FN,%0))]
>822
[switch([rand(3)]%0,0,,1,,2,,0*,%0,...)]
>823
#1
<
!33
SGP - @crontab
2
34
-1
0
31
33
5
-1
1
301989889
0
8192
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:31:03 2003
>227
Thu Jan 30 00:33:57 2003
>237
-1 -1 -1 -1
>653
1.0|Base|Jan 30 2003
>654
Base Install [elements(time(),2 3 5)]
>279
#34
>824
$@cron/add *=*/*:@switch/first 0[setq(1,strlen(get(v(db)/CRON_TIME_[setr(0,u(v(db)/fn.strip,%0))])))]=andflags(%#,W),{@pemit %#=get(v(db)/HUH)},not(strlen(setr(9,setdiff(first(lcstr(%1),|),jan feb mar apr may jun jul aug sep oct nov dec)))),{@pemit %#=Invalid month: %q9},not(strlen(setr(9,setdiff(extract(lcstr(%1),3,1,|),sun mon tue wed thu fri sat)))),{@pemit %#=Invalid day of week: %q9},eq(5,words(%1,|)),{@pemit %#=Incomplete crontab entry},isdbref(setr(9,first(%2,|))),{@pemit %#=Invalid dbref: %q9},{&CRON_TIME_%q0 [v(db)]=%1;&CRON_JOB_%q0 [v(db)]=%2;@pemit %#=Cron job [ucstr(%q0)] [switch(0,%q1,add,edit)]ed.}
>825
$@cron/del *:@switch 0=andflags(%#,W),{@pemit %#=get(v(db)/HUH)},strlen(get(v(db)/CRON_TIME_[setr(0,u(v(db)/fn.strip,%0))])),{@pemit %#=No such job: [ucstr(%q0)]},{&CRON_TIME_%q0 [v(db)];&CRON_JOB_%q0 [v(db)];@pemit %#=Cron job [ucstr(%q0)] deleted.}
>826
$@cron/add:@switch 0=andflags(%#,W),{@pemit %#=get(v(db)/HUH)},{@pemit %#=Usage: @cron/add <job name>=<time>/<object>|<attribute>%r%b%b<time format>: [get(v(db)/format)]%r%b%b<object>'s <attribute> will be @triggered when a match occurs}
>827
$@crontab:@switch 0=andflags(%#,W),{@pemit %#=get(v(db)/HUH)},{@dolist HEADER [lattr(v(db)/CRON_TIME_*)]={@switch ##=HEADER,{@pemit %#=Crontab Listing%r[repeat(-,15)]},{@pemit %#=setr(0,after(##,CRON_TIME_)): [get(v(db)/##)] -- [get(v(db)/CRON_JOB_%q0)]}}}
>828
Donated to SGP by Jeff Hulsey <jeff@slackbastard.net>, Copyright 2001
>839
5:4194304:$+shelp*:@dynhelp staffhelp/[trim(%0)]=%#
<
!34
SGP - @crontab DB
33
-1
-1
0
-1
33
5
-1
1
306184193
0
0
0
0
0
0
0
0
0
0
0
-1
>228
Thu Jan 30 00:31:05 2003
>227
Thu Jan 30 00:32:01 2003
>237
-1 -1 -1 -1
>653
1.0|Base|Jan 30 2003
>654
Base Install [elements(time(),2 3 5)]
>19
@trigger me/CRON
>829
@trigger me/TRG.CRON;@wait 60={@trigger me/CRON}
>830
[month]|[date]|[day of week]|[hour]|[minute]
>831
edit(squish(trim(secure(foreach(me/fn.bad,%0)))),%b,_)
>832
Huh? (Type "help" for help.)
>833
switch(member(v(list.bad),%0),0,%0,%b)
>834
~ ! @ # ^ & * + ` = | : " ' < > ? , . /
>835
@dolist u(FN.CRON,lattr(me/CRON_TIME_*))={@trigger [first(setr(8,v(CRON_JOB_[after(##,CRON_TIME_)])),|)]/[last(%q8,|)]}
>836
[setq(1,extract(setr(0,lcstr(time())),2,1))][setq(2,extract(%q0,3,1))][setq(3,extract(%q0,1,1))][setq(4,last(extract(%q0,1,1,:)))][setq(5,extract(%q0,2,1,:))][filter(FLT.CRON,lattr(me/CRON_TIME_*))]
>837
and(or(member(setr(7,extract(setr(6,lcstr(v(%0))),1,1,|)),%q1),not(strlen(%q7))),or(member(setr(7,extract(%q6,2,1,|)),%q2),not(strlen(%q7))),or(member(setr(7,extract(%q6,3,1,|)),%q3),not(strlen(%q7))),or(member(setr(7,extract(%q6,4,1,|)),%q4),not(strlen(%q7))),or(member(setr(7,extract(%q6,5,1,|)),%q5),not(strlen(%q7))))
>828
Donated to SGP by Jeff Hulsey <jeff@slackbastard.net>, Copyright 2001
<
***END OF DUMP***
